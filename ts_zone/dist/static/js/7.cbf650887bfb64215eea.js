(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{37:function(e,t,s){"use strict";var a=function(){function e(e){this.method="GET",this.aysc=!0,this.sendData=null,this.cache=!0,"object"==typeof e&&Object.assign(this,e),this.url="https://www.macsen318.com"+this.url,this.send()}return e.prototype.send=function(){var e=this,t=new XMLHttpRequest;t.timeout=6e4,this.withCredentials&&(t.withCredentials=!0),t.withCredentials=!0,t.open(this.method,this.url,this.aysc),this.setHeader&&t.setRequestHeader("Content-Type",this.setHeader),this.cache||(t.setRequestHeader("Pragma","no-cache"),t.setRequestHeader("Cache-Control","no-cache")),t.onload=function(){if(4===t.readyState)if(200===t.status){var s;t.response&&(s=JSON.parse(t.response)),e.done(s)}else{var a=new Error("something went wrong");e.faild(a)}},t.onerror=function(t){e.faild(t)},t.send(this.sendData)},e}();t.a=a},46:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(37),r=s(6),o=s(34),i=s(10),c=s(9),u=a.useRef,p=a.useContext;t.default=function(e){var t=p(i.a),s=(t.state,t.dispatch),l=u(null);return a.createElement("div",{id:"register_page",className:"app-register-page"},a.createElement("p",{className:"page-title"},"登录"),a.createElement("form",{method:"post",action:"/api/users/validuser",className:"form1",ref:l,onSubmit:function(t){t.preventDefault();var a=l.current;if(a){if(!a.username.value)return Object(o.showPrompt)("请填写用户名!"),!1;if(!a.password.value)return Object(o.showPrompt)("请填写密码"),!1;var r=JSON.stringify({username:a.username.value,password:a.password.value,test:null});return new Promise(function(e,t){new n.a({setHeader:"application/json",sendData:r,method:"POST",url:"/api/users/validuser",done:function(t){e(t)},faild:function(){var e=new Error("something wrong");t(e)}})}).then(function(t){0==t.code?Object(o.showPrompt)({msg:"登陆成功",cb:function(){s({type:c.d,value:t.user}),e.history.push({pathname:"/goods/upload"})}}):Object(o.showPrompt)(t.msg)},function(e){return console.log(e)})}}},a.createElement("p",{className:"pt20"},a.createElement("input",{type:"text",name:"username",className:"ipt",placeholder:"用户名"})),a.createElement("p",{className:"pt20"},a.createElement("input",{type:"password",name:"password",className:"ipt",placeholder:"密码"})),a.createElement("p",{className:"pt20"},a.createElement("input",{type:"submit",className:"btn"})),a.createElement("p",{className:"pt10"},a.createElement(r.Link,{to:"/user/register"},"注册"))))}}}]);