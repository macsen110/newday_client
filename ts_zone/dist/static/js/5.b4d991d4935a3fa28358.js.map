{"version":3,"sources":["webpack:///./script/build/utils/xhr.js","webpack:///./script/build/components/logout.tsx","webpack:///./script/build/actions/index.ts"],"names":["xhr","opt","method","aysc","sendData","cache","Object","assign","url","perfixerURL","send","_xhr","XMLHttpRequest","timeout","withCredentials","open","setHeader","setRequestHeader","onload","readyState","status","sucData","response","JSON","parse","done","error","Error","faild","bind","onerror","data"],"mappings":"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","file":"static/js/5.b4d991d4935a3fa28358.js","sourcesContent":["class xhr {\n\tconstructor (opt) {\n\n\t\tthis.method = 'GET';\n\t\tthis.aysc = true;\n\t\tthis.sendData = null;\n\t\tthis.cache = true;\n\t\tif (typeof opt === 'object') {\n\t\t\tObject.assign(this, opt);\n\t\t}\n\t\tthis.url = perfixerURL + this.url\n\t\tthis.send();\n\n\t}\n\tsend() {\n\t    var _xhr = new XMLHttpRequest();\n\t\t_xhr.timeout = 60000;\n\t\tthis.withCredentials && (_xhr.withCredentials = true);\n\t\t_xhr.withCredentials = true\n\t    _xhr.open(this.method, this.url, this.aysc);\n\t\t\n\t    if (this.setHeader) {\n\t    \t_xhr.setRequestHeader(\"Content-Type\", this.setHeader);\t    \n\t    }\n\t\tif (!this.cache) {\n\t\t\t_xhr.setRequestHeader(\"Pragma\", \"no-cache\");\n\t\t\t_xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n\t\t}\n\n\t    _xhr.onload = function () {\n\t       if (_xhr.readyState === 4) {\n\t           if (_xhr.status === 200) {\n\t           \t\tvar sucData;\n\t           \t\tif (_xhr.response) {\n\t                \tsucData = JSON.parse(_xhr.response);\n\t           \t\t}\n\t                this.done(sucData);\n\t           }\n\t           else{\n\t               var error = new Error(\"something went wrong\");\n\t               this.faild(error);\n\t           }\n\t       }\n\t    }.bind(this);\n\t    _xhr.onerror = function(error){\n\t       this.faild(error);\n\t    }.bind(this)\n\t    _xhr.send(this.sendData)\n\t}\n\tdone(data) {\n\n\t}\n\tfaild() {\n\n\t}\n}\n\nexport default xhr;","import * as React from 'react';\nimport xhr from '../utils/xhr';\nimport { LOGOUT } from '../actions';\nimport {FetchesContext} from '../context'\nconst {\n    useEffect,\n    useContext\n} = React\n//register views\nfunction Logout(props: any) {\n    const {state, dispatch} = useContext(FetchesContext)\n    useEffect(() => {\n        new xhr({\n            url: '/api/users/logout',\n            done: function (callData) {\n                if (callData.code == 0) {\n                    dispatch({type: LOGOUT})\n                    props.history.replace({ pathname: '/' })\n                }\n            },\n            withCredentials: true,\n            faild: function () {\n                var error = new Error('something wrong')\n\n            }\n        })\n    }, [])\n\n    return (<></>)\n}\n\nexport default Logout;","export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LISTGOODS = 'LISTGOODS';\nexport const SHOWGOOD = 'SHOWGOOD';\nexport const POSTCOMMET = 'POSTCOMMET';\nexport const DELETECOMMET = 'DELETECOMMET';\nexport const LISTCOMMETS = 'LISTCOMMETS';\nexport const DONELOADING = 'DONELOADING';"],"sourceRoot":""}