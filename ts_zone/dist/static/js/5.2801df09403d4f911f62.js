(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{35:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var s="LOGIN",r="LOGOUT",a="LISTGOODS",o="SHOWGOOD",i="POSTCOMMET",u="DELETECOMMET",c="LISTCOMMETS"},36:function(e,t,n){"use strict";var s=function(){function e(e){this.method="GET",this.aysc=!0,this.sendData=null,this.cache=!0,"object"==typeof e&&Object.assign(this,e),this.url="https://www.macsen318.com"+this.url,this.send()}return e.prototype.send=function(){var e=this,t=new XMLHttpRequest;t.timeout=6e4,this.withCredentials&&(t.withCredentials=!0),t.withCredentials=!0,t.open(this.method,this.url,this.aysc),this.setHeader&&t.setRequestHeader("Content-Type",this.setHeader),this.cache||(t.setRequestHeader("Pragma","no-cache"),t.setRequestHeader("Cache-Control","no-cache")),t.onload=function(){if(4===t.readyState)if(200===t.status){var n;t.response&&(n=JSON.parse(t.response)),e.done(n)}else{var s=new Error("something went wrong");e.faild(s)}},t.onerror=function(t){e.faild(t)},t.send(this.sendData)},e}();t.a=s},38:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(36),a=n(6),o=n(32),i=n(13),u=n(35),c=s.useRef,p=s.useContext;t.default=function(e){var t=p(i.a),n=(t.state,t.dispatch),l=c(null);return s.createElement("div",{id:"register_page",className:"app-register-page"},s.createElement("p",{className:"page-title"},"登录"),s.createElement("form",{method:"post",action:"/api/users/validuser",className:"form1",ref:l,onSubmit:function(t){t.preventDefault();var s=l.current;if(s){if(!s.username.value)return Object(o.showPrompt)("请填写用户名!"),!1;if(!s.password.value)return Object(o.showPrompt)("请填写密码"),!1;var a=JSON.stringify({username:s.username.value,password:s.password.value,test:null});return new Promise(function(e,t){new r.a({setHeader:"application/json",sendData:a,method:"POST",url:"/api/users/validuser",done:function(t){e(t)},faild:function(){var e=new Error("something wrong");t(e)}})}).then(function(t){0==t.code?Object(o.showPrompt)({msg:"登陆成功",cb:function(){n({type:u.d,value:t.user}),e.history.push({pathname:"/goods/upload"})}}):Object(o.showPrompt)(t.msg)},function(e){return console.log(e)})}}},s.createElement("p",{className:"pt20"},s.createElement("input",{type:"text",name:"username",className:"ipt",placeholder:"用户名"})),s.createElement("p",{className:"pt20"},s.createElement("input",{type:"password",name:"password",className:"ipt",placeholder:"密码"})),s.createElement("p",{className:"pt20"},s.createElement("input",{type:"submit",className:"btn"})),s.createElement("p",{className:"pt10"},s.createElement(a.Link,{to:"/user/register"},"注册"))))}}}]);