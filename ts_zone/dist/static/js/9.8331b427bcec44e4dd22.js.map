{"version":3,"sources":["webpack:///./script/build/utils/xhr.js","webpack:///./script/build/components/logout.js"],"names":["xhr","opt","method","aysc","sendData","cache","Object","assign","url","perfixerURL","send","_xhr","XMLHttpRequest","timeout","withCredentials","open","setHeader","setRequestHeader","onload","readyState","status","sucData","response","JSON","parse","done","error","Error","faild","bind","onerror","data","logout","self","callData","code","props","initAction","isLogin","history","push","React","Component","connect"],"mappings":";;;;;;;;;;;;;;;;IAAMA,G;;;AACL,eAAaC,GAAb,EAAkB;AAAA;;AAEjB,SAAKC,MAAL,GAAc,KAAd;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,KAAL,GAAa,IAAb;;AACA,QAAI,qEAAOJ,GAAP,MAAe,QAAnB,EAA6B;AAC5BK,YAAM,CAACC,MAAP,CAAc,IAAd,EAAoBN,GAApB;AACA;;AACD,SAAKO,GAAL,GAAWC,2BAAW,GAAG,KAAKD,GAA9B;AACA,SAAKE,IAAL;AAEA;;;;2BACM;AACH,UAAIC,IAAI,GAAG,IAAIC,cAAJ,EAAX;;AACHD,UAAI,CAACE,OAAL,GAAe,KAAf;AACA,WAAKC,eAAL,KAAyBH,IAAI,CAACG,eAAL,GAAuB,IAAhD;AACAH,UAAI,CAACG,eAAL,GAAuB,IAAvB;;AACGH,UAAI,CAACI,IAAL,CAAU,KAAKb,MAAf,EAAuB,KAAKM,GAA5B,EAAiC,KAAKL,IAAtC;;AAEA,UAAI,KAAKa,SAAT,EAAoB;AACnBL,YAAI,CAACM,gBAAL,CAAsB,cAAtB,EAAsC,KAAKD,SAA3C;AACA;;AACJ,UAAI,CAAC,KAAKX,KAAV,EAAiB;AAChBM,YAAI,CAACM,gBAAL,CAAsB,QAAtB,EAAgC,UAAhC;;AACAN,YAAI,CAACM,gBAAL,CAAsB,eAAtB,EAAuC,UAAvC;AACA;;AAEEN,UAAI,CAACO,MAAL,GAAc,YAAY;AACvB,YAAIP,IAAI,CAACQ,UAAL,KAAoB,CAAxB,EAA2B;AACvB,cAAIR,IAAI,CAACS,MAAL,KAAgB,GAApB,EAAyB;AACvB,gBAAIC,OAAJ;;AACA,gBAAIV,IAAI,CAACW,QAAT,EAAmB;AACfD,qBAAO,GAAGE,IAAI,CAACC,KAAL,CAAWb,IAAI,CAACW,QAAhB,CAAV;AACH;;AACE,iBAAKG,IAAL,CAAUJ,OAAV;AACJ,WAND,MAOI;AACA,gBAAIK,KAAK,GAAG,IAAIC,KAAJ,CAAU,sBAAV,CAAZ;AACA,iBAAKC,KAAL,CAAWF,KAAX;AACH;AACJ;AACH,OAda,CAcZG,IAdY,CAcP,IAdO,CAAd;;AAeAlB,UAAI,CAACmB,OAAL,GAAe,UAASJ,KAAT,EAAe;AAC3B,aAAKE,KAAL,CAAWF,KAAX;AACF,OAFc,CAEbG,IAFa,CAER,IAFQ,CAAf;;AAGAlB,UAAI,CAACD,IAAL,CAAU,KAAKN,QAAf;AACH;;;yBACI2B,I,EAAM,CAEV;;;4BACO,CAEP;;;;;;AAGa/B,4DAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;CAMA;;IACMgC,M;;;;;;;;;;;;;AACF;yCACqB;AACjB,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIjC,0DAAJ,CAAQ;AACJQ,WAAG,EAAE,mBADD;AAEJiB,YAAI,EAAE,cAASS,QAAT,EAAmB;AACrB,cAAGA,QAAQ,CAACC,IAAT,IAAiB,CAApB,EAAuB;AACnBF,gBAAI,CAACG,KAAL,CAAWC,UAAX,CAAsB;AAACC,qBAAO,EAAE;AAAV,aAAtB;AACAL,gBAAI,CAACG,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;AACJ,SAPG;AAQJ1B,uBAAe,EAAE,IARb;AASJc,aAAK,EAAE,iBAAW;AACd,cAAIF,KAAK,GAAG,IAAIC,KAAJ,CAAU,iBAAV,CAAZ;AAEH;AAZG,OAAR;AAcH;;;6BACQ;AACL,aACI,uEADJ;AAGH;;;;EAvBgBc,4CAAK,CAACC,S;;AA0BZC,kIAAO,CAAC,IAAD,EAAO;AAACN,YAAU,EAAVA,mEAAUA;AAAX,CAAP,CAAP,CAA4BL,MAA5B,CAAf,E","file":"static/js/9.8331b427bcec44e4dd22.js","sourcesContent":["class xhr {\n\tconstructor (opt) {\n\n\t\tthis.method = 'GET';\n\t\tthis.aysc = true;\n\t\tthis.sendData = null;\n\t\tthis.cache = true;\n\t\tif (typeof opt === 'object') {\n\t\t\tObject.assign(this, opt);\n\t\t}\n\t\tthis.url = perfixerURL + this.url\n\t\tthis.send();\n\n\t}\n\tsend() {\n\t    var _xhr = new XMLHttpRequest();\n\t\t_xhr.timeout = 60000;\n\t\tthis.withCredentials && (_xhr.withCredentials = true);\n\t\t_xhr.withCredentials = true\n\t    _xhr.open(this.method, this.url, this.aysc);\n\t\t\n\t    if (this.setHeader) {\n\t    \t_xhr.setRequestHeader(\"Content-Type\", this.setHeader);\t    \n\t    }\n\t\tif (!this.cache) {\n\t\t\t_xhr.setRequestHeader(\"Pragma\", \"no-cache\");\n\t\t\t_xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n\t\t}\n\n\t    _xhr.onload = function () {\n\t       if (_xhr.readyState === 4) {\n\t           if (_xhr.status === 200) {\n\t           \t\tvar sucData;\n\t           \t\tif (_xhr.response) {\n\t                \tsucData = JSON.parse(_xhr.response);\n\t           \t\t}\n\t                this.done(sucData);\n\t           }\n\t           else{\n\t               var error = new Error(\"something went wrong\");\n\t               this.faild(error);\n\t           }\n\t       }\n\t    }.bind(this);\n\t    _xhr.onerror = function(error){\n\t       this.faild(error);\n\t    }.bind(this)\n\t    _xhr.send(this.sendData)\n\t}\n\tdone(data) {\n\n\t}\n\tfaild() {\n\n\t}\n}\n\nexport default xhr;","import React from 'react';\nimport xhr from '../utils/xhr';\nimport {connect} from 'react-redux'; \nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from 'react-router-dom';\nimport {initAction} from '../actions/actions';\n//register views\nclass logout extends React.Component {\n    //static contextTypes = Object.assign({},{history: PropTypes.history});\n    componentWillMount() {\n        var self = this;\n        new xhr({\n            url: '/api/users/logout',\n            done: function(callData) {\n                if(callData.code == 0) {\n                    self.props.initAction({isLogin: false});\n                    self.props.history.push('/')\n                }\n            },\n            withCredentials: true,\n            faild: function() {\n                var error = new Error('something wrong')\n\n            }\n        })\n    }\n    render() {\n        return (\n            <div></div>\n        )\n    }\n}\n\nexport default connect(null, {initAction})(logout);"],"sourceRoot":""}