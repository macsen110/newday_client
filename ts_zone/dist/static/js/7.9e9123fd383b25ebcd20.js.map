{"version":3,"sources":["webpack:///./script/build/components/app.tsx","webpack:///./script/build/actions/index.ts"],"names":["React","__webpack_require__","react_router_dom_1","actions_1","context_1","useEffect","useContext","LogoutHeader","createElement","className","Tab","exact","to","LoginHeader","props","NavLink","__assign","activeClassName","exports","default","_a","FetchesContext","state","dispatch","fetch","credentials","then","res","ok","json","obj","type","isLogin","LOGIN","LOGOUT","catch","LISTGOODS","SHOWGOOD","POSTCOMMET","DELETECOMMET","LISTCOMMETS","DONELOADING"],"mappings":"kXAAA,IAAAA,EAAAC,EAAA,GACAC,EAAAD,EAAA,GAGAE,EAAAF,EAAA,GACAG,EAAAH,EAAA,IAEII,EAAAL,EAAAK,UACAC,EAAAN,EAAAM,WAIJ,SAASC,IACL,OACIP,EAAAQ,cAAA,OAAKC,UAAU,yBACXT,EAAAQ,cAAA,UAAQC,UAAU,UACdT,EAAAQ,cAAA,MAAIC,UAAU,gBACVT,EAAAQ,cAACE,EAAG,CAACC,OAAK,EAACC,GAAG,KAAG,MACjBZ,EAAAQ,cAACE,EAAG,CAACE,GAAG,eAAa,MACrBZ,EAAAQ,cAACE,EAAG,CAACE,GAAG,iBAAe,MACvBZ,EAAAQ,cAACE,EAAG,CAACE,GAAG,eAAa,SAMzC,SAASC,IACL,OACIb,EAAAQ,cAAA,OAAKC,UAAU,yBACXT,EAAAQ,cAAA,UAAQC,UAAU,UACdT,EAAAQ,cAAA,MAAIC,UAAU,gBACVT,EAAAQ,cAACE,EAAG,CAACC,OAAK,EAACC,GAAG,KAAG,MACjBZ,EAAAQ,cAACE,EAAG,CAACE,GAAG,eAAa,MACrBZ,EAAAQ,cAACE,EAAG,CAACE,GAAG,iBAAe,MACvBZ,EAAAQ,cAACE,EAAG,CAACE,GAAG,gBAAc,SAO1C,SAASF,EAAII,GACT,OACId,EAAAQ,cAAA,MAAIC,UAAU,QAAOT,EAAAQ,cAACN,EAAAa,QAAOC,EAAA,GAAMF,EAAK,CAAEG,gBAAgB,aAsBlEC,EAAAC,QAjBA,WACU,IAAAC,EAAAd,EAAAF,EAAAiB,gBAACC,EAAAF,EAAAE,MAAOC,EAAAH,EAAAG,SAad,OAZAlB,EAAU,WAENmB,MAAM,qCAAyB,CAC3BC,YAAa,YAGhBC,KAAK,SAACC,GACH,GAAIA,EAAIC,GAAI,OAAOD,EAAIE,SAE1BH,KAAK,SAACI,GAAY,OAAAP,EAAS,CAAEQ,KAAMD,EAAIE,QAAU7B,EAAA8B,MAAQ9B,EAAA+B,WACzDC,MAAM,WAAM,OAAAZ,EAAS,CAAEQ,KAAM5B,EAAA+B,YAC/B,IACCZ,EAAMU,QAAgBhC,EAAAQ,cAACK,EAAW,MAC/Bb,EAAAQ,cAACD,EAAY,wFC/DXW,EAAAe,MAAQ,QACRf,EAAAgB,OAAS,SACThB,EAAAkB,UAAY,YACZlB,EAAAmB,SAAW,WACXnB,EAAAoB,WAAa,aACbpB,EAAAqB,aAAe,eACfrB,EAAAsB,YAAc,cACdtB,EAAAuB,YAAc","file":"static/js/7.9e9123fd383b25ebcd20.js","sourcesContent":["import * as React from 'react';\nimport {\n    NavLink\n} from 'react-router-dom';\nimport {LOGIN, LOGOUT} from '../actions'\nimport {FetchesContext} from '../context'\nconst {\n    useEffect,\n    useContext\n} = React\n//const Context = createContext();\n// such as https://blog.csdn.net/weixin_42461410/article/details/88650304\nfunction LogoutHeader() {\n    return (\n        <div className=\"wrap-header-container\">\n            <header className=\"header\">\n                <ul className=\"app-nav-list\">\n                    <Tab exact to=\"/\">首页</Tab>\n                    <Tab to=\"/goods/list\">发现</Tab>\n                    <Tab to=\"/goods/upload\">上传</Tab>\n                    <Tab to=\"/user/login\">登录</Tab>\n                </ul>\n            </header>\n        </div>\n    )\n}\nfunction LoginHeader() {\n    return (\n        <div className=\"wrap-header-container\">\n            <header className=\"header\">\n                <ul className=\"app-nav-list\">\n                    <Tab exact to=\"/\">首页</Tab>\n                    <Tab to=\"/goods/list\">发现</Tab>\n                    <Tab to=\"/goods/upload\">上传</Tab>\n                    <Tab to=\"/user/logout\">注销</Tab>\n                </ul>\n            </header>\n        </div>\n    )\n\n}\nfunction Tab(props: any) {\n    return (\n        <li className=\"item\"><NavLink  {...props} activeClassName=\"active\" /></li>\n    )\n}\n\n//home views\nfunction App() {\n    const {state, dispatch} = useContext(FetchesContext)\n    useEffect(() => {\n        // @ts-ignore\n        fetch(perfixerURL+\"/api/home\", {\n            credentials: 'include'\n        })\n        // @ts-ignore\n        .then((res) => {\n            if (res.ok) return res.json()\n        })\n        .then((obj:any) => dispatch({ type: obj.isLogin ? LOGIN : LOGOUT }))\n        .catch(() => dispatch({ type: LOGOUT }))\n    }, [])\n    if (state.isLogin) return <LoginHeader />\n    return <LogoutHeader />\n};\nexport default App;\n","export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LISTGOODS = 'LISTGOODS';\nexport const SHOWGOOD = 'SHOWGOOD';\nexport const POSTCOMMET = 'POSTCOMMET';\nexport const DELETECOMMET = 'DELETECOMMET';\nexport const LISTCOMMETS = 'LISTCOMMETS';\nexport const DONELOADING = 'DONELOADING';"],"sourceRoot":""}