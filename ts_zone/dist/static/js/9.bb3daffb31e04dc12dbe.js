(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{37:function(e,t,s){"use strict";var a=function(){function e(e){this.method="GET",this.aysc=!0,this.sendData=null,this.cache=!0,"object"==typeof e&&Object.assign(this,e),this.url="https://www.macsen318.com"+this.url,this.send()}return e.prototype.send=function(){var e=this,t=new XMLHttpRequest;t.timeout=6e4,this.withCredentials&&(t.withCredentials=!0),t.withCredentials=!0,t.open(this.method,this.url,this.aysc),this.setHeader&&t.setRequestHeader("Content-Type",this.setHeader),this.cache||(t.setRequestHeader("Pragma","no-cache"),t.setRequestHeader("Cache-Control","no-cache")),t.onload=function(){if(4===t.readyState)if(200===t.status){var s;t.response&&(s=JSON.parse(t.response)),e.done(s)}else{var a=new Error("something went wrong");e.faild(a)}},t.onerror=function(t){e.faild(t)},t.send(this.sendData)},e}();t.a=a},48:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(37),r=s(34),o=s(10),i=s(9),c=a.useRef,u=a.useContext;t.default=function(e){var t=u(o.a),s=(t.state,t.dispatch),p=c(null);return a.createElement("div",{id:"register_page",className:"app-register-page"},a.createElement("p",{className:"page-title"},"注册"),a.createElement("form",{method:"post",action:"/api/users/saveuser",className:"form1",ref:p,onSubmit:function(t){t.preventDefault();var a=p.current;if(a){if(!a.username.value)return Object(r.showPrompt)("请填写用户名!"),!1;if(!a.password.value)return Object(r.showPrompt)("请填写密码"),!1;var o="username="+a.username.value+"&password="+a.password.value+"&test=null";return new Promise(function(e,t){new n.a({setHeader:"application/x-www-form-urlencoded",sendData:o,method:"POST",url:"/api/users/saveuser",withCredentials:!0,done:function(t){e(t)},faild:function(){var e=new Error("something wrong");t(e)}})}).then(function(t){0===t.code?Object(r.showPrompt)({msg:t.msg,cb:function(){s({type:i.d,value:t.user}),e.history.push({pathname:"/goods/upload"})}}):Object(r.showPrompt)(t.msg)},function(e){return console.log(e)})}}},a.createElement("p",{className:"pt20"},a.createElement("input",{type:"text",name:"username",className:"ipt",placeholder:"用户名"})),a.createElement("p",{className:"pt20"},a.createElement("input",{type:"password",name:"password",className:"ipt",placeholder:"密码"})),a.createElement("p",{className:"pt20"},a.createElement("input",{type:"submit",className:"btn"}))))}}}]);