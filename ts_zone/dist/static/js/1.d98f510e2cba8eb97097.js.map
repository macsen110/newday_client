{"version":3,"sources":["webpack:///./script/build/actions/index.ts","webpack:///./node_modules/_yao-m-ui@0.2.14@yao-m-ui/index.js","webpack:///./script/build/reducers/showGoodTs.ts","webpack:///./script/build/reducers/commetsTs.ts","webpack:///./script/build/components/goodsdetail.tsx","webpack:///./script/build/utils/xhr.ts"],"names":["__webpack_require__","d","__webpack_exports__","LOGIN","LOGOUT","LISTGOODS","SHOWGOOD","POSTCOMMET","DELETECOMMET","LISTCOMMETS","module","exports","TabWidget","args","arg","this","tabNavContainer","document","querySelector","tabConContainer","tabNavItems","children","tabConItems","curIdex","init","Dialog","options","title","content","foot","canMaskClose","className","type","container","createElement","isMask","config","mask","open","easyMove","element","isTouch","window","parentEle","child","length","focusIndex","index","speed","offset","limitBorder","showNum","deltaX","deltaY","callback","touchMoveCb","hasMoved","orientation","distance","addEventListener","childWidth","clientWidth","parentWidth","childHeight","clientHeight","parentHeight","showPrompt","Object","keys","forEach","key","bind","msg","Loading","html","prototype","constructor","self","change","call","item","i","classList","remove","add","handleEvent","e","target","contains","maskAction","close","afterOk","main","innerHTML","body","appendChild","afterOpen","destory","afterClose","removeChild","style","width","height","MozTransform","webkitTransform","move","onTouchStart","onTouchMove","removeEventListener","onTouchEnd","transitionEnd","start","pageX","touches","pageY","webkitTransition","scale","Math","abs","preventDefault","targetIndex","remainderDistance","parseInt","round","limitIndex","autoMove","_container","promptTimer","setTimeout","cb","parentNode","display","end","dom","factory","showGood","state","action","actions","value","commetsTs_commets","push","slice","_id","splice","useReducer","_react_16_8_6_react","useEffect","useRef","unLoginCode","Blog_item","props","itemEle","category","src","path","autoPlay","url","Commets","commets","goodsid","map","CommetItem","C_content","C_id","InputContainer","delCommet","Promise","res","rej","xhr","method","done","obj","code","_yao_m_ui_0_2_14_yao_m_ui","_delCommet","dataset","id","data-id","onClick","wrap_comment","ref","commentData","commentEle","current","JSON","stringify","fetch","credentials","headers","Content-Type","then","ok","json","_a","dispatch","_b","dispatchCommets","files","match","params","resolve","reject","callData","faild","error","Error","detail","opt","aysc","sendData","cache","assign","send","_this","_xhr","XMLHttpRequest","timeout","withCredentials","setHeader","setRequestHeader","onload","readyState","status","sucData","response","parse","onerror"],"mappings":"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","file":"static/js/1.d98f510e2cba8eb97097.js","sourcesContent":["export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LISTGOODS = 'LISTGOODS';\nexport const SHOWGOOD = 'SHOWGOOD';\nexport const POSTCOMMET = 'POSTCOMMET';\nexport const DELETECOMMET = 'DELETECOMMET';\nexport const LISTCOMMETS = 'LISTCOMMETS';\nexport const DONELOADING = 'DONELOADING';","(function (win, factory) {\n\tif (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t} \n\telse if (typeof define === 'function' && define.amd) {\n\t\t\tdefine(factory);\n\t} \n\telse {\n\t\t\twin.eventUtil = factory();\n\t}\n})(this, function () {\n\t//module ...\n\t/****************\n\ttab 切换插件\n\t参数:\n\ttabNav:表示tab click item\n\ttabCon: 内容区域显示\n\ttabNavItems 触发切换的element\n\ttabConItems  显示区域的内容elements\n\tcurIndex 当前显示的index\n\t*****/\n\tfunction TabWidget(args) {\n\t\tif(args && (\"object\" == typeof args)){\n\t\t\t\tfor(var arg in args){\n\t\t\t\t\t\tthis[arg] = args[arg];\n\t\t\t\t}\n\t\t}\n\t\tthis.tabNavContainer = this.tabNavContainer || document.querySelector('.tab-nav-container');\n\t\tthis.tabConContainer = this.tabConContainer || document.querySelector('.tab-con-container');\n\t\tthis.tabNavContainer && (this.tabNavItems = this.tabNavItems || this.tabNavContainer.children);\n\t\tthis.tabConContainer && (this.tabConItems = this.tabConItems || this.tabConContainer.children);\n\t\tthis.curIdex = this.curIdex || 0;\n\t\tthis.init()\n\t}\n\n\tTabWidget.prototype = {\n\t\t\tconstructor: TabWidget,\n\t\t\tinit: function () {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tself.change(this.curIdex);\n\t\t\t\t\tif (self.tabNavItems) {\n\t\t\t\t\t\t\t[].forEach.call(self.tabNavItems, function (item, index) {\n\t\t\t\t\t\t\t\t\titem.addEventListener('click', function () {\n\t\t\t\t\t\t\t\t\t\t\tself.change(index);\t\t\t\t\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})            \n\t\t\t\t\t}\n\t\t\t},\n\t\t\tchange: function(index) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tself.curIdex = index;\n\t\t\t\t\tif (self.tabNavItems) {\n\t\t\t\t\t\t\t[].forEach.call(self.tabNavItems, function (item, i) {\n\t\t\t\t\t\t\t\t\tif (i !== index) {\n\t\t\t\t\t\t\t\t\t\t\titem.classList.remove('on');\n\t\t\t\t\t\t\t\t\t\t\tself.tabConItems[i].classList.remove('on')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\titem.classList.add('on');\n\t\t\t\t\t\t\t\t\t\t\tself.tabConItems[i].classList.add('on')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t\t[].forEach.call(self.tabConItems, function (item, i) {\n\t\t\t\t\t\t\t\t\tif (i !== index) item.classList.remove('on')\n\t\t\t\t\t\t\t\t\telse item.classList.add('on')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t} \n\t\t\t\t\tif (self.callback) self.callback(index);           \n\t\t\t}\n\t\t\t\t\t\n\t}\n\t/***\n\t * *dialog 页面弹框组件\n\t * *\n\t * *****/    \n\t//弹框\n\tfunction Dialog(options) {\n\t\tthis.title = null;\n\t\tthis.content = null;\n\t\tthis.foot = null;\n\t\tthis.canMaskClose = true;\n\t\tthis.className = ''\n\t\tthis.type = 'dialog';\n\t\tthis.container = document.createElement('div');\n\t\tthis.isMask = true;\n\t\tthis.config(options);\n\t\tthis.mask = this.isMask ? '<div class=\"dialog-mask-bg\"></div>' : '';\n\t\tthis.open();\n\t\treturn this;\n\t}\n\tDialog.prototype = {\n\t\t\tconstructor: Dialog,\n\t\t\tconfig: function (options) {\n\t\t\t\t\tif (typeof options === 'object') {\t\t\t\n\t\t\t\t\t\t\tfor (var i in options) {\n\t\t\t\t\t\t\t\t\tthis[i] = options[i]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t},\n\t\t\thandleEvent: function (e) {\n\t\t\t\t\tvar target = e.target;\n\t\t\t\t\tvar classList = target.classList;\n\t\t\t\t\t\n\t\t\t\t\t//点击遮罩层,不做任何事情,直接摧毁弹框\n\t\t\t\t\tif (classList.contains('dialog-mask-bg')) {\n\t\t\t\t\t\t\tthis.canMaskClose ? (this.maskAction ? this.maskAction() : this.close()) : null; \t\t\t\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t//点击确定按钮\n\t\t\t\t\tif (classList.contains('btn-dialog-ok')) {\n\t\t\t\t\t\t\tthis.afterOk();\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t//点击取消按钮,或者关闭的图标\n\t\t\t\t\tif (classList.contains('btn-dialog-cancel') || classList.contains('icon-dialog-cancel')) {\n\t\t\t\t\t\t\tthis.close()\n\t\t\t\t\t}\n\t\t\t},\n\t\t\topen: function() {\n\t\t\t\t\tthis.container.className = \"widget-dialog \"+this.className;\n\t\t\t\t\tthis.title = this.title ? '<div class=\"title\">' + this.title + '</div>' :'';\n\t\t\t\t\tthis.content = this.content ? '<div class=\"content\">' + this.content + '</div>' : '';\n\t\t\t\t\tthis.foot = this.foot ? '<div class=\"foot\">' + this.foot + '</div>' : ''; \n\t\t\t\t\tthis.main = this.title + this.content + this.foot;\n\t\t\t\t\tthis.container.innerHTML = '<div class=\"main\">' + this.main + '</div>' + this.mask;\n\t\t\t\t\tvar body = document.body;\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tbody.appendChild(this.container);\n\t\t\t\t\t//remeber do not write like this\n\t\t\t\t\t//this.container.addEventLister('click', this.close) \n\t\t\t\t\t//this replay for the current object in the event callback functions\n\t\t\t\n\t\t\t\t\tthis.afterOpen();\n\t\t\t\n\t\t\t\t\tthis.container.addEventListener('click',this)\n\t\t\t\n\t\t\t},\n\t\t\tafterOpen: function () {\n\t\t\t\t\t//do something after the dialog open;\n\t\t\t},\n\t\t\tafterOk: function () {\n\t\t\t\t\t//default event is destory;\n\t\t\t\t\tthis.destory()\n\t\t\t},\n\t\t\tclose: function () {\n\t\t\t\t\tthis.afterClose();\n\t\t\t\t\tthis.destory();\n\t\t\t\n\t\t\t},\n\t\t\tafterClose: function () {\n\t\t\t\t\t//do something after the dialog close;\n\t\t\t},\n\t\t\tdestory: function () {\n\t\t\t\t\tvar body = document.body;\n\t\t\t\t\tif (this.container) {\n\t\t\t\t\t\t\tbody.removeChild(this.container);\n\t\t\t\t\t\t\tthis.container = null;\n\t\t\t\t\t}\n\t\t\t}\n\t};\n\t\t\n\t/**\n\t * *easy Move\n\t * *页面滑动插件\n\t * *******/\n\tfunction easyMove (element, options) {\n\t\tvar isTouch = 'ontouchstart' in window;\n\t\tif (!element) return null; \n\t\tthis.element = element;\n\t\tthis.parentEle = options.parentEle || this.element;\n\t\tthis.child = element.children[0]; //选取一个子元素,以便可以随时获取其宽度\n\t\tthis.length = element.children.length;\n\t\tthis.focusIndex = options.focusIndex || 0;\n\t\tthis.index = options.index || 0; //初始选中元素序号\n\t\tthis.speed = options.speed || 300; //矫正动画时间ms\n\t\tthis.offset = options.offset || 0; //选中点偏移\n\t\tthis.limitBorder = options.limitBorder || false; //滑动后是否会回顶到边界，优先级高于offset\n\t\tthis.showNum = options.showNum || this.length; //显示的元素个数（可选,只在limitBorder为true时需要）\n\t\tthis.deltaX = 0;\n\t\tthis.deltaY = 0;\n\t\tthis.callback = options.callback || function () {}; //矫正动画完成后的回调函数\n\t\tthis.touchMoveCb = options.touchMoveCb || function () {}; //监听动画滑动\n\t\tthis.hasMoved = false; //是否触发过onTouchMove，用以区分点击与滑动\n\t\tthis.orientation = options.orientation || 1; //滑动的方向,1为横向, 2为纵向\n\t\tthis.distance = options.distance;//自定义滑动距离,\n\t\tif (this.parentEle.addEventListener) {\n\t\t\tthis.parentEle.addEventListener(isTouch?'touchstart':'mousedown', this, false);\n\t\t\tthis.element.addEventListener('webkitTransitionEnd', this, false);\n\t\t\tthis.element.addEventListener('transitionend', this, false);\n\t\t}\n\t\t//判断横向还是竖向滑动,设置相应的宽或高\n\t\tif (this.orientation == 1) { \n\t\t\tthis.childWidth = options.childWidth || this.child.clientWidth;\n\t\t\tthis.parentWidth = options.parentWidth || this.childWidth * this.length;\n\t\t}\n\t\telse {\n\t\t\tthis.childHeight = options.childHeight || this.child.clientHeight;\n\t\t\tthis.parentHeight = options.parentHeight || this.childHeight * this.length;\n\t\t}\n\t\tthis.init();\n\t}\n\teasyMove.prototype = {\n\t\tconstructor: easyMove,\n\t\tinit: function () {\n\t\t\tvar self = this;\n\t\t\t//设置item和container的宽度\n\t\t\t[].forEach.call(self.element.children, function (item) {\n\t\t\t\t\tif (self.orientation == 1) item.style.width = self.childWidth + 'px';\n\t\t\t\t\telse item.style.height = self.childHeight + 'px';\n\t\t\t})\n\t\t\tif (self.orientation == 1) self.element.style.width = self.parentWidth + 'px';\n\t\t\telse self.element.style.height = self.parentHeight + 'px';\n            \n\t\t\tif (self.orientation == 1) self.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(' + (-(self.index-self.focusIndex) * self.childWidth) + 'px,0,0)';\n\t\t\tif (self.orientation == 2) self.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(0,' + (-(self.index-self.focusIndex) * self.childHeight) + 'px,0)';\n\t\t\tself.move(self.index)\n\t\t},\n\t\thandleEvent: function (e) {\n\t\t\tvar self = this;\n\t\t\tswitch (e.type) {\n\t\t\t\t\tcase 'mousedown':\n\t\t\t\t\t\tself.element.addEventListener('mousemove', self, false);\n\t\t\t\t\t\tself.element.addEventListener('mouseup', self, false);\n\t\t\t\t\t\tself.element.addEventListener('mouseout', self, false);\n\t\t\t\t\t\tself.onTouchStart(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mousemove':\n\t\t\t\t\t\tself.onTouchMove(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mouseup':\n\t\t\t\t\t\tself.element.removeEventListener('mousemove', self, false);\n\t\t\t\t\t\tself.element.removeEventListener('mouseup', self, false);\n\t\t\t\t\t\tself.element.removeEventListener('mouseout', self, false);\n\t\t\t\t\t\tself.onTouchEnd(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mouseout':\n\t\t\t\t\t\tself.element.removeEventListener('mousemove', self, false);\n\t\t\t\t\t\tself.element.removeEventListener('mouseup', self, false);\n\t\t\t\t\t\tself.element.removeEventListener('mouseout', self, false);\n\t\t\t\t\t\tself.onTouchEnd(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 'touchstart':\n\t\t\t\t\t\tself.parentEle.addEventListener('touchmove', self, false);\n\t\t\t\t\t\tself.parentEle.addEventListener('touchend', self, false);\n\t\t\t\t\t\tself.onTouchStart(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'touchmove':\n\t\t\t\t\t\tself.onTouchMove(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'touchend':\n\t\t\t\t\t\tself.parentEle.removeEventListener('touchmove', self, false);\n\t\t\t\t\t\tself.parentEle.removeEventListener('touchend', self, false);\n\t\t\t\t\t\tself.onTouchEnd(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'webkitTransitionEnd':\n\t\t\t\t\tcase 'msTransitionEnd':\n\t\t\t\t\tcase 'oTransitionEnd':\n\t\t\t\t\tcase 'transitionend': \n\t\t\t\t\t\tself.transitionEnd(e); \n\t\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tonTouchStart: function (e) {\n\t\t\tvar self = this;\n\t\t\tself.start = {\n\t\t\t\tpageX: e.touches[0].pageX,\n\t\t\t\tpageY: e.touches[0].pageY\n\t\t\t};\n\t\t\t//将动画时间设为0，以便在按下时马上结束尚在进行的动画\n\t\t\tself.element.style.webkitTransition = \"-webkit-transform 0ms\";\n\t\t},\n\t\tonTouchMove: function (e) {\n\t\t\tvar self = this;\n            \n\t\t\t//若有多个touch或者被缩放则不滑动\t\t\n\t\t\tif(e.touches.length > 1 || e.scale && e.scale !== 1) return;\n\t\t\tself.deltaX = e.touches[0].pageX - self.start.pageX;\n\t\t\tself.deltaY = e.touches[0].pageY - self.start.pageY;\n\t\t\t//判断滑动方向\n\t\t\t//横向\n\t\t\tif (self.orientation == 1 && Math.abs(self.deltaX) > Math.abs(self.deltaY)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (!self.hasMoved) self.touchMoveCb &&  self.touchMoveCb(self.index)   \n\t\t\t\tself.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(' + (self.deltaX - (self.index-self.focusIndex) * self.childWidth) + 'px,0,0)';\n\t\t\t}\n\t\t\t//纵向\n\t\t\tif (self.orientation == 2 && Math.abs(self.deltaY) > Math.abs(self.deltaX)) {\n\t\t\t\te.preventDefault();\n                if (!self.hasMoved) self.touchMoveCb &&  self.touchMoveCb(self.index)   \n\t\t\t\tself.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(0,' + (self.deltaY - (self.index-self.focusIndex) * self.childHeight) + 'px,0)';\n\t\t\t}\n\t\t\tself.hasMoved = true;\n            \n\t\t},\n\t\tonTouchEnd: function (e) {\n\t\t\tvar self = this;\n\t\t\tif (!self.hasMoved) {\n\t\t\t\tif (self.orientation == 1)  self.deltaX = 0; //若没有滑动过，重置值\n\t\t\t\tif (self.orientation == 2) self.deltaY = 0\n\t\t\t}\n\t\t\tself.hasMoved = false;\n\t\t\t//矫正位置到最贴近目标处\n\t\t\tif (self.orientation == 1) {\n\t\t\t\t\tvar width = self.childWidth;\n\t\t\t\t\tvar targetIndex;\n\t\t\t\t\tif (self.distance) {\n\t\t\t\t\t\t\tvar remainderDistance = self.deltaX - parseInt(self.deltaX/width) * width;\n\t\t\t\t\t\t\tif (remainderDistance > 0) {\n\t\t\t\t\t\t\t\t\ttargetIndex = self.index - (parseInt(self.deltaX/width) + (remainderDistance - self.distance > 0 ? 1 : 0));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\ttargetIndex = self.index - (parseInt(self.deltaX/width) + (Math.abs(remainderDistance) - self.distance > 0 ? -1 : 0));\n\t\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t\telse targetIndex = self.index - Math.round(self.deltaX/width);\n\t\t\t\t\t\n\t\t\t}\n\t\t\tif (self.orientation == 2) {\n\t\t\t\t\tvar height = self.childHeight;\n\t\t\t\t\tvar targetIndex;\n\t\t\t\t\tif (self.distance) {\n\t\t\t\t\t\t\tvar remainderDistance = self.deltaY - parseInt(self.deltaY/height) * height;\n\t\t\t\t\t\t\tif (remainderDistance > 0) {\n\t\t\t\t\t\t\t\t\ttargetIndex = self.index - (parseInt(self.deltaY/height) + (remainderDistance - self.distance > 0 ? 1 : 0));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\ttargetIndex = self.index - (parseInt(self.deltaY/height) + (Math.abs(remainderDistance) - self.distance > 0 ? -1 : 0));\n\t\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t\telse targetIndex = self.index - Math.round(self.deltaY/height);\n\t\t\t}\n            \n\t\t\ttargetIndex = self.limitIndex(targetIndex);\n\t\t\tself.autoMove(targetIndex);\n\t\t\tif (self.callback) {\n\t\t\t\tvar choseId = self.index + self.offset;\n\t\t\t\tself.callback(self.index);\n\t\t\t}\n\t\t},\n\t\ttransitionEnd: function (e) {\n\t\t\tvar self = this;\n\t\t},\n\t\tautoMove: function (targetIndex) {\n\t\t\tvar self = this;\n\t\t\tvar style = this.element.style;\n\t\t\t//var width = self.childWidth;\n\t\t\tstyle.webkitTransition = \"-webkit-transform \"+self.speed+\"ms\";\n\t\t\tif (self.orientation == 1) style.MozTransform = style.webkitTransform = 'translate3d(' + (-targetIndex * self.childWidth) + 'px,0,0)';\n\t\t\tif (self.orientation == 2) style.MozTransform = style.webkitTransform = 'translate3d(0,' + (-targetIndex * self.childHeight) + 'px,0)';\n\t\t\tself.index = targetIndex + self.focusIndex;\n\t\t},\n\t\tmove: function (targetIndex) {\n\t\t\tvar self = this;\n\t\t\ttargetIndex -= self.offset; \n\t\t\ttargetIndex = self.limitIndex(targetIndex);\n\t\t\tvar style = this.element.style;\n\t\t\tstyle.webkitTransition = \"-webkit-transform \"+self.speed+\"ms\";\n\t\t\tif (self.orientation == 1) style.MozTransform = style.webkitTransform = 'translate3d(' + (-targetIndex * self.childWidth) + 'px,0,0)';\n\t\t\tif (self.orientation == 2) style.MozTransform = style.webkitTransform = 'translate3d(0,' + (-targetIndex * self.childHeight) + 'px,0)';\n\t\t\tself.index = targetIndex + self.focusIndex;\n\t\t\tif (self.callback) self.callback(self.index);\n\t\t},\n\t\tlimitIndex: function (targetIndex) {\n\t\t\tvar self = this;\n\t\t\tif (!self.limitBorder) {\n\t\t\t\tif (targetIndex < -self.offset) targetIndex = -self.offset;\t\n\t\t\t\telse if (targetIndex > self.length - 1 - self.offset) targetIndex = self.length - 1 - self.offset;\n\t\t\t} \n\t\t\telse {\n\t\t\t\tif (targetIndex < 0) targetIndex = 0;\n\t\t\t\telse if ((targetIndex > self.length - self.showNum + self.focusIndex)) targetIndex = self.length -(self.showNum - self.focusIndex);\n\t\t\t}\n\t\t\treturn targetIndex - self.focusIndex;\n\t\t}\n\t}\n\n\tfunction showPrompt(args) {\n\t\tif (typeof args === 'object') {\n\t\t\tObject.keys(args).forEach(function (key) {\n\t\t\t\tthis[key] = args[key]\n\t\t\t}.bind(this))\t\t\t\n\t\t}\n\t\tif (typeof args === 'string' || typeof args === 'number') this.msg = args;\n\t\tthis.init()\n\t}\n\tshowPrompt.prototype = {\n\t\tconstructor: showPrompt,\n\t\tinit: function () {\n\t\t\tthis._container =  document.querySelector('.widget-prompt');\n\t\t\tif(this._container) { this.destory() }\n\t\t\tthis.open()\n\t\t},\n\t\topen: function () {\n\t\t\tthis._container = document.createElement('div');\n\t\t\tthis._container.className = this.className ? this.className + ' widget-prompt' : 'widget-prompt';\n\t\t\tthis._container.innerHTML = this.msg;\t\n\t\t\tdocument.body.appendChild(this._container)\n\t\t\tthis.promptTimer = setTimeout(function(){\n\t\t\t\t\tthis.destory();\n\t\t\t\t\tif (this.cb) this.cb()\n\t\t\t}.bind(this),3000);\n\t\t},\n\t\tdestory: function () {\n\t\t\tthis._container.parentNode.removeChild(this._container)\n\t\t\tthis._container = null;\n\t\t}\n\t}\n\n\tfunction Loading(args) {\n\t\tif (typeof args === 'object') {\n\t\t\tObject.keys(args).forEach(function (key) {\n\t\t\t\tthis[key] = args[key]\n\t\t\t}.bind(this))\t\t\t\n\t\t}\n\t\tvar tpl = '<div class=\"mask\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"spinner\"></div>'\n\t\t\t\t\t\n\t\tthis.html = this.html || tpl;\n\t\treturn this;\n\t}\n\tLoading.prototype = {\n\t\tconstructor: Loading,\n\t\tstart: function () {\n\t\t\tif (!this._container) {\n\t\t\t\tthis._container = document.createElement('div');\n\t\t\t\tthis._container.innerHTML = this.html;\n\t\t\t\tthis._container.className = this.className ? this.className + ' widget-loading' : 'widget-loading';\n\t\t\t\tdocument.body.appendChild(this._container)\n\t\t\t} \n\t\t\tthis._container.style.display = 'block';\n\t\t},\n\t\tend: function () {\n\t\t\tthis._container && (this._container.style.display = 'none');\n\t\t}\n\t}\n\treturn {\n\t\t\tTabWidget: function (args) {return new TabWidget(args)},\n\t\t\tDialog: function (args) {return new Dialog(args)},\n\t\t\teasyMove: function (dom, args) { return new easyMove(dom, args)},\n\t\t\tshowPrompt: function (args) {return new showPrompt(args)},\n\t\t\tLoading: function (args) { return new Loading(args) },\n\t}\n})","import {SHOWGOOD} from '../actions';\r\ntype actionType = {\r\n\ttype: string,\r\n\tvalue: {}\r\n}\r\nexport default function showGood(state:any,action:actionType) {\r\n\tswitch(action.type) {\r\n\t\tcase SHOWGOOD:\r\n\t\t\treturn action.value;\r\n\t\tdefault:\r\n\t\t\treturn state \r\n\t}\r\n} ","import {POSTCOMMET, DELETECOMMET, LISTCOMMETS} from '../actions';\r\ntype actionType = {\r\n\ttype: string,\r\n\tvalue: any\r\n}\r\nexport default function commets(state:any,action:actionType) {\r\n\tswitch(action.type) {\r\n\t\tcase POSTCOMMET:\r\n\t\t\tstate.push(action.value);\r\n\t\t\treturn [...state];\r\n\t\tcase LISTCOMMETS:\r\n\t\t\treturn action.value\r\n\t\tcase DELETECOMMET:\r\n\t\t\tlet index;\r\n\t\t\tfor (let i =0; i <state.length; i++) {\r\n\t\t\t\tif (state[i]._id === action.value) {\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\tstate.splice(index, 1)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn [...state]\r\n\t\tdefault:\r\n\t\t\treturn [...state];\r\n\t}\r\n}","import * as React from 'react';\nimport xhr from '../utils/xhr';\nimport { SHOWGOOD, POSTCOMMET, DELETECOMMET, LISTCOMMETS } from '../actions';\nimport { showPrompt } from 'yao-m-ui';\nimport reducer from \"../reducers/showGoodTs\"\nimport reduceCommets from '../reducers/commetsTs'\nconst {\n    useReducer,\n    useEffect,\n    useRef\n} = React\nconst unLoginCode = '00002';\nfunction _fetchGoods(id) {\n    return new Promise(function (resolve, reject) {\n        new xhr({\n            url: '/api/goods/detail/' + id,\n            done: function (callData) {\n                resolve(callData)\n            },\n            faild: function () {\n                var error = new Error('something wrong')\n                reject(error)\n            }\n\n        })\n\n    })\n}\nfunction _delCommet(C_id, goodsid) {\n    return new Promise((res, rej) => {\n        new xhr({\n            url: '/api/comments/' + goodsid + '/' + C_id,\n            method: 'DELETE',\n            done: (obj) => {\n                if (obj.code === 0) res(+C_id)\n                if (obj.code === unLoginCode) return showPrompt({ msg: obj.msg })\n                if (obj.code !== 0) return showPrompt({ msg: obj.msg })\n            }\n        })\n    })\n\n}\nfunction _submitCommet(goodsid, content) {\n    let commentData = JSON.stringify({\n        goodsid,\n        content\n    });\n    // @ts-ignore\n    return fetch(perfixerURL + '/api/comments/', {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: commentData\n    }).then(function (res: any) {\n        if (res.ok) {\n            return res.json()\n        }\n    }).then((obj) => {\n        if (obj.code === unLoginCode) return showPrompt({ msg: obj.msg })\n        if (obj.code !== 0) return showPrompt({ msg: obj.msg })\n    })\n}\n\nfunction _delGoods(id) {\n    // @ts-ignore\n    return fetch(perfixerURL + '/api/goods/delete/' + id, {\n        method: 'DELETE',\n        credentials: \"include\"\n    }).then(function (res: any) {\n        if (res.ok) {\n            return res.json()\n        }\n    }).then((obj) => {\n        return obj;\n        //if (obj.code === unLoginCode) return showPrompt({ msg: obj.msg, cb: () => props.history.push('/user/login') })\n        //if (obj.code == 0) {\n        //props.history.push('/goods/list')\n        //}\n    })\n}\nfunction GoodsDetail(props: any) {\n    const [state, dispatch] = useReducer(reducer, {})\n    const [commets, dispatchCommets] = useReducer(reduceCommets, [])\n    let files = state.files || '';\n    useEffect(() => {\n        _fetchGoods(props.match.params.id).then((obj: any) => {\n            dispatch({ type: SHOWGOOD, value: obj.detail })\n            dispatchCommets({ type: LISTCOMMETS, value: obj.commets })\n        })\n    }, [])\n    const deleteGoods = () => {\n        _delGoods(props.match.params.id)\n\n    }\n    if (state.id) {\n        return (\n            <div className=\"app-detail-page\">\n                <p className=\"page-title\">{state.title}</p>\n                {\n                    files.length > 0 && (<ul className=\"uri-list\">\n                        {files.map((item, index) => <Blog_item key={index} item={item} category={state.category} />)}\n                    </ul>)\n                }\n                {\n                    state.content != '' && (<p className=\"content\">{state.content}</p>)\n                }\n                <Commets commets={commets} goodsid={state.id}/>\n            </div>\n        )\n    }\n    return (<div>{props.match.params.id}</div>)\n}\nfunction Blog_item(props) {\n    var item = props.item;\n    var category = props.category;\n    var itemEle;\n    switch (category) {\n        case 'image':\n            itemEle = <img src={'//res.macsen318.com' + item.path} width={item.width} />;\n            break;\n        case 'video':\n            itemEle = <video src={'//res.macsen318.com' + item.path} autoPlay></video>;\n            break;\n        case 'note':\n            if (item.url) {\n                itemEle = <div><p>{item.content}</p><p><img src={'//res.macsen318.com' + item.path} width={item.width / 2} /></p></div>;\n            }\n            else {\n                itemEle = <p>{item.content}</p>;\n            }\n            break;\n        default:\n            break\n\n    }\n    return (<li className=\"item\">{itemEle}</li>)\n\n}\n\n\n\n\nfunction Commets(props: any) {\n    let { commets, goodsid } = props\n    if (commets.length) {\n        return (\n            <div className=\"commets-container\">\n                <ul className=\"commets-list\">\n                {commets.map((item, index) => <CommetItem goodsid={goodsid} C_content={item.C_content}  key={index} C_id={item._id} />)}\n                </ul>\n                <InputContainer goodsid={goodsid} />\n            </div>\n        )\n    }\n    return (\n        <div className=\"commets-contain\">\n            <InputContainer goodsid={goodsid} />\n        </div>\n    )\n\n}\nfunction CommetItem(props) {\n    const {\n        C_content, \n        C_id,\n        goodsid\n    } = props\n    const delCommet = (e) => {\n        var item = e.target.parentNode;\n        var C_id = item.dataset.id;\n        _delCommet(C_id, goodsid)\n    }\n    return (\n        <li className=\"item\" data-id={C_id}>\n            <span className=\"con\">{'游客评论: ' + C_content}</span>\n            <span className=\"del\" onClick={(e) => delCommet(e)}>删除</span>\n        </li>\n    )\n}\nfunction InputContainer(props) {\n    let wrap_comment = useRef<HTMLTextAreaElement>(null);\n    const submitCommet = () => {\n        let commentEle = wrap_comment.current;\n        _submitCommet(props.goodsid, commentEle ? commentEle.value : '')\n    }\n    return (\n        <div  className=\"input-container\">\n            <textarea className=\"ipt\" ref={wrap_comment} />\n            <p><button onClick={submitCommet} className=\"btn\">提交评论</button></p>\n        </div>\n    )\n}\n\nexport default GoodsDetail\n\n\n","class xhr {\n\tmethod: string;\n\taysc: boolean;\n\tsendData: any;\n\tcache: boolean;\n\turl: string;\n\tsetHeader: any;\n\tfaild: Function;\n\twithCredentials: true;\n\tdone: Function;\n\tconstructor(opt: any) {\n\t\tthis.method = 'GET';\n\t\tthis.aysc = true;\n\t\tthis.sendData = null;\n\t\tthis.cache = true;\n\t\tif (typeof opt === 'object') {\n\t\t\tObject.assign(this, opt);\n\t\t}\n\t\t//@ts-ignore\n\t\tthis.url = perfixerURL + this.url\n\t\tthis.send();\n\n\t}\n\tsend() {\n\t\tvar _xhr = new XMLHttpRequest();\n\t\t_xhr.timeout = 60000;\n\t\tthis.withCredentials && (_xhr.withCredentials = true);\n\t\t_xhr.withCredentials = true\n\t\t_xhr.open(this.method, this.url, this.aysc);\n\n\t\tif (this.setHeader) {\n\t\t\t_xhr.setRequestHeader(\"Content-Type\", this.setHeader);\n\t\t}\n\t\tif (!this.cache) {\n\t\t\t_xhr.setRequestHeader(\"Pragma\", \"no-cache\");\n\t\t\t_xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n\t\t}\n\n\t\t_xhr.onload = () => {\n\t\t\tif (_xhr.readyState === 4) {\n\t\t\t\tif (_xhr.status === 200) {\n\t\t\t\t\tvar sucData;\n\t\t\t\t\tif (_xhr.response) {\n\t\t\t\t\t\tsucData = JSON.parse(_xhr.response);\n\t\t\t\t\t}\n\t\t\t\t\tthis.done(sucData);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar error = new Error(\"something went wrong\");\n\t\t\t\t\tthis.faild(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t_xhr.onerror = (error) => {\n\t\t\tthis.faild(error);\n\t\t}\n\t\t_xhr.send(this.sendData)\n\t}\n}\n\nexport default xhr;"],"sourceRoot":""}