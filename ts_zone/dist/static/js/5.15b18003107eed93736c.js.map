{"version":3,"sources":["webpack:///./script/build/components/goodslist.tsx","webpack:///./script/build/reducers/listGoodsTs.ts","webpack:///./script/build/actions/index.ts"],"names":["React","__webpack_require__","actions_1","listGoodsTs_1","react_router_dom_1","useReducer","useEffect","List","props","createElement","className","listGoods","map","item","index","Blog_item","key","goodsid","Blog_Item_Image","src","path","width","height","Blog_Item_Note","Blog_Item_Video","autoPlay","RenderItemComponent","words","num","now","category","Link","to","user","categoryDesc","Date","_time","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","title","__assign","content","length","slice","comment_count","exports","default","_a","state","dispatch","fetch","credentials","then","res","ok","json","type","LISTGOODS","value","data","action","LOGIN","LOGOUT","SHOWGOOD","POSTCOMMET","DELETECOMMET","LISTCOMMETS","DONELOADING"],"mappings":"kXAAA,IAAAA,EAAAC,EAAA,GACAC,EAAAD,EAAA,GACAE,EAAAF,EAAA,IACAG,EAAAH,EAAA,GAEEI,EAAAL,EAAAK,WACAC,EAAAN,EAAAM,UAmBF,SAASC,EAAKC,GACZ,OACER,EAAAS,cAAA,MAAIC,UAAU,iBACXF,EAAMG,UAAUC,IAAI,SAACC,EAAWC,GAAkB,OACjDd,EAAAS,cAACM,EAAS,CAACC,IAAKH,EAAKI,QAASJ,KAAMA,OAyB5C,SAASK,EAAgBV,GACvB,OACER,EAAAS,cAAA,OAAKC,UAAU,YACbV,EAAAS,cAAA,OACEU,IAAK,sBAAwBX,EAAMY,KACnCC,MAAOb,EAAMa,MACbC,OAAQd,EAAMc,UAKtB,SAASC,EAAef,GACtB,OAAQR,EAAAS,cAAA,YAEV,SAASe,EAAgBhB,GACvB,OACER,EAAAS,cAAA,OAAKC,UAAU,YACbV,EAAAS,cAAA,SACEU,IAAK,sBAAwBX,EAAMY,KACnCK,UAAQ,KAKhB,SAASV,EAAUP,GACjB,IAEIkB,EA7DiBC,EAAYC,EAZfC,EAuEZhB,EAAOL,EAAMK,KAGnB,OAFiBA,EAAKiB,UAGpB,IAAK,QACHJ,EAAsBR,EACtB,MACF,IAAK,OACHQ,EAAsBH,EACtB,MACF,IAAK,QACHG,EAAsBF,EAK1B,OACExB,EAAAS,cAAA,MAAIC,UAAU,QACZV,EAAAS,cAACL,EAAA2B,KAAI,CAACC,GAAI,iBAAmBnB,EAAKI,SAChCjB,EAAAS,cAAA,UAAIT,EAAAS,cAAA,QAAMC,UAAU,UAAUG,EAAKoB,WAASpB,EAAKqB,cAAoBlC,EAAAS,cAAA,MAAIC,UAAU,SA1FvEmB,EA0F0F,IAAIM,KAAKtB,EAAKuB,QAzF3GC,cAON,KANGR,EAAIS,WAAa,GAMN,IALZT,EAAIU,UAKqB,MAJzBV,EAAIW,WAIoC,IAHtCX,EAAIY,aAGiD,IAFrDZ,EAAIa,eAqFX1C,EAAAS,cAAA,UAAKI,EAAK8B,OACV3C,EAAAS,cAACiB,EAAmBkB,EAAA,GAAK/B,IACzBb,EAAAS,cAAA,KAAGC,UAAU,YAjFEiB,EAiFuBd,EAAKgC,QAhFjDjB,GADiCA,EAiFyB,KAhF7C,IACND,EAAMmB,OAASlB,EAAMD,EAAMoB,MAAM,EAAGnB,GAAO,MAAQD,IAgFpD3B,EAAAS,cAAA,KAAGC,UAAU,QAAOV,EAAAS,cAAA,KAAGC,UAAU,cAAiBG,EAAKmC,iBAM/DC,EAAAC,QAzEA,WACQ,IAAAC,EAAA9C,EAAAF,EAAA+C,QAAA,IAACE,EAAAD,EAAA,GAAOE,EAAAF,EAAA,GAcd,OAbA7C,EAAU,WAERgD,MAAM,2CAAiC,CACrCC,YAAa,YAGZC,KAAK,SAAUC,GACd,GAAIA,EAAIC,GACN,OAAOD,EAAIE,SAGdH,KAAK,SAACC,GAAQ,OAAAJ,EAAS,CAAEO,KAAM1D,EAAA2D,UAAWC,MAAOL,EAAIM,UACvD,IAED/D,EAAAS,cAACF,EAAI,CAACI,UAAWyC,uFCnDrB,IAAAlD,EAAAD,EAAA,GAKAgD,EAAAC,QAAA,SAAkCE,EAAUY,GAC3C,YADiC,IAAAZ,MAAA,IAC1BY,EAAOJ,MACb,KAAK1D,EAAA2D,UACJ,OAAOG,EAAOF,MACf,QACC,OAAOV,qFCVGH,EAAAgB,MAAQ,QACRhB,EAAAiB,OAAS,SACTjB,EAAAY,UAAY,YACZZ,EAAAkB,SAAW,WACXlB,EAAAmB,WAAa,aACbnB,EAAAoB,aAAe,eACfpB,EAAAqB,YAAc,cACdrB,EAAAsB,YAAc","file":"static/js/5.15b18003107eed93736c.js","sourcesContent":["import * as React from 'react';\nimport { LISTGOODS } from \"../actions/\";\nimport reducer from \"../reducers/listGoodsTs\"\nimport { Link } from \"react-router-dom\";\nconst {\n  useReducer,\n  useEffect\n} = React\nfunction formatDate(now: any) {\n  var year = now.getFullYear();\n  var month = now.getMonth() + 1;\n  var date = now.getDate();\n  var hour = now.getHours();\n  var minute = now.getMinutes();\n  var second = now.getSeconds();\n  return (\n    year + \"-\" + month + \"-\" + date + \"   \" + hour + \":\" + minute + \":\" + second\n  );\n}\n\nfunction filterContent(words: any, num: any) {\n  num = num || 100\n  return words.length > num ? words.slice(0, num) + '...' : words\n}\n\nfunction List(props: any) {\n  return (\n    <ul className=\"app-list-page\">\n      {props.listGoods.map((item: any, index: number) => (\n        <Blog_item key={item.goodsid} item={item} />\n      ))}\n    </ul>\n  );\n}\n\nfunction Goodslist() {\n  const [state, dispatch] = useReducer(reducer, [])\n  useEffect(() => {\n    // @ts-ignore\n    fetch(perfixerURL + \"/api/goods/list\", {\n      credentials: \"include\"\n    })\n      // @ts-ignore\n      .then(function (res) {\n        if (res.ok) {\n          return res.json();\n        }\n      })\n      .then((res) => dispatch({ type: LISTGOODS, value: res.data }))\n  }, [])\n  return (\n    <List listGoods={state} />\n  );\n}\nfunction Blog_Item_Image(props: any) {\n  return (\n    <div className=\"wrap-uri\">\n      <img\n        src={\"//res.macsen318.com\" + props.path}\n        width={props.width}\n        height={props.height}\n      />\n    </div>\n  )\n}\nfunction Blog_Item_Note(props: object) {\n  return (<div></div>)\n}\nfunction Blog_Item_Video(props: any) {\n  return (\n    <div className=\"wrap-uri\">\n      <video\n        src={\"//res.macsen318.com\" + props.path}\n        autoPlay\n      />\n    </div>\n  )\n}\nfunction Blog_item(props: any) {\n  const item = props.item;\n  const category = item.category;\n  let RenderItemComponent: any;\n  switch (category) {\n    case 'image':\n      RenderItemComponent = Blog_Item_Image;\n      break;\n    case \"note\":\n      RenderItemComponent = Blog_Item_Note;\n      break;\n    case 'video':\n      RenderItemComponent = Blog_Item_Video;\n      break;\n    default:\n      break;\n  }\n  return (\n    <li className=\"item\">\n      <Link to={\"/goods/detail/\" + item.goodsid}>\n        <h2><span className=\"avator\">{item.user}发布了{item.categoryDesc}</span><em className=\"time\">{formatDate(new Date(item._time))}</em></h2>\n        <h3>{item.title}</h3>\n        <RenderItemComponent {...item} />\n        <p className=\"content\">{filterContent(item.content, '')}</p>\n        <p className=\"more\"><i className=\"i-comment\"></i>{item.comment_count}</p>\n      </Link>\n    </li>\n  );\n\n}\nexport default Goodslist\n","import {LISTGOODS} from '../actions';\r\ntype actionType = {\r\n\ttype: string,\r\n\tvalue: []\r\n}\r\nexport default function listGoods(state=[], action: actionType) {\r\n\tswitch(action.type) {\r\n\t\tcase LISTGOODS:\r\n\t\t\treturn action.value\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\t\r\n}\r\n\r\n","export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LISTGOODS = 'LISTGOODS';\nexport const SHOWGOOD = 'SHOWGOOD';\nexport const POSTCOMMET = 'POSTCOMMET';\nexport const DELETECOMMET = 'DELETECOMMET';\nexport const LISTCOMMETS = 'LISTCOMMETS';\nexport const DONELOADING = 'DONELOADING';"],"sourceRoot":""}