{"version":3,"sources":["webpack:///./script/build/actions/index.ts","webpack:///./script/build/components/app.tsx"],"names":["__webpack_require__","d","__webpack_exports__","LOGIN","LOGOUT","LISTGOODS","SHOWGOOD","POSTCOMMET","DELETECOMMET","LISTCOMMETS","useEffect","react__WEBPACK_IMPORTED_MODULE_0__","useContext","LogoutHeader","className","Tab","exact","to","LoginHeader","props","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","__assign","activeClassName","_a","_context__WEBPACK_IMPORTED_MODULE_3__","state","dispatch","fetch","credentials","then","res","ok","json","obj","type","isLogin","_actions__WEBPACK_IMPORTED_MODULE_2__","catch"],"mappings":"wFAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAAN,EAAAC,EAAAC,EAAA,sBAAAK,IAAAP,EAAAC,EAAAC,EAAA,sBAAAM,IAAAR,EAAAC,EAAAC,EAAA,sBAAAO,IAAO,IAAMN,EAAQ,QACRC,EAAS,SACTC,EAAY,YACZC,EAAW,WACXC,EAAa,aACbC,EAAe,eACfC,EAAc,qSCCvBC,EAAAC,EAAA,UACAC,EAAAD,EAAA,WAIJ,SAASE,IACL,OACIF,EAAA,qBAAKG,UAAU,yBACXH,EAAA,wBAAQG,UAAU,UACdH,EAAA,oBAAIG,UAAU,gBACVH,EAAA,cAACI,EAAG,CAACC,OAAK,EAACC,GAAG,KAAG,MACjBN,EAAA,cAACI,EAAG,CAACE,GAAG,eAAa,MACrBN,EAAA,cAACI,EAAG,CAACE,GAAG,iBAAe,MACvBN,EAAA,cAACI,EAAG,CAACE,GAAG,eAAa,SAMzC,SAASC,IACL,OACIP,EAAA,qBAAKG,UAAU,yBACXH,EAAA,wBAAQG,UAAU,UACdH,EAAA,oBAAIG,UAAU,gBACVH,EAAA,cAACI,EAAG,CAACC,OAAK,EAACC,GAAG,KAAG,MACjBN,EAAA,cAACI,EAAG,CAACE,GAAG,eAAa,MACrBN,EAAA,cAACI,EAAG,CAACE,GAAG,iBAAe,MACvBN,EAAA,cAACI,EAAG,CAACE,GAAG,gBAAc,SAO1C,SAASF,EAAII,GACT,OACIR,EAAA,oBAAIG,UAAU,QAAOH,EAAA,cAACS,EAAA,EAAOC,EAAA,GAAMF,EAAK,CAAEG,gBAAgB,aAsBnDpB,EAAA,QAjBf,WACU,IAAAqB,EAAAX,EAAAY,EAAA,GAACC,EAAAF,EAAAE,MAAOC,EAAAH,EAAAG,SAad,OAZAhB,EAAU,WAENiB,MAAM,qCAAyB,CAC3BC,YAAa,YAGhBC,KAAK,SAACC,GACH,GAAIA,EAAIC,GAAI,OAAOD,EAAIE,SAE1BH,KAAK,SAACI,GAAY,OAAAP,EAAS,CAAEQ,KAAMD,EAAIE,QAAUC,EAAA,EAAQA,EAAA,MACzDC,MAAM,WAAM,OAAAX,EAAS,CAAEQ,KAAME,EAAA,OAC/B,IACCX,EAAMU,QAAgBxB,EAAA,cAACO,EAAW,MAC/BP,EAAA,cAACE,EAAY","file":"static/js/6.d832edb8513db44235fb.js","sourcesContent":["export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LISTGOODS = 'LISTGOODS';\nexport const SHOWGOOD = 'SHOWGOOD';\nexport const POSTCOMMET = 'POSTCOMMET';\nexport const DELETECOMMET = 'DELETECOMMET';\nexport const LISTCOMMETS = 'LISTCOMMETS';\nexport const DONELOADING = 'DONELOADING';","import * as React from 'react';\nimport {\n    NavLink\n} from 'react-router-dom';\nimport {LOGIN, LOGOUT} from '../actions'\nimport {FetchesContext} from '../context'\nconst {\n    useEffect,\n    useContext\n} = React\n//const Context = createContext();\n// such as https://blog.csdn.net/weixin_42461410/article/details/88650304\nfunction LogoutHeader() {\n    return (\n        <div className=\"wrap-header-container\">\n            <header className=\"header\">\n                <ul className=\"app-nav-list\">\n                    <Tab exact to=\"/\">首页</Tab>\n                    <Tab to=\"/goods/list\">发现</Tab>\n                    <Tab to=\"/goods/upload\">上传</Tab>\n                    <Tab to=\"/user/login\">登录</Tab>\n                </ul>\n            </header>\n        </div>\n    )\n}\nfunction LoginHeader() {\n    return (\n        <div className=\"wrap-header-container\">\n            <header className=\"header\">\n                <ul className=\"app-nav-list\">\n                    <Tab exact to=\"/\">首页</Tab>\n                    <Tab to=\"/goods/list\">发现</Tab>\n                    <Tab to=\"/goods/upload\">上传</Tab>\n                    <Tab to=\"/user/logout\">注销</Tab>\n                </ul>\n            </header>\n        </div>\n    )\n\n}\nfunction Tab(props: any) {\n    return (\n        <li className=\"item\"><NavLink  {...props} activeClassName=\"active\" /></li>\n    )\n}\n\n//home views\nfunction App() {\n    const {state, dispatch} = useContext(FetchesContext)\n    useEffect(() => {\n        // @ts-ignore\n        fetch(perfixerURL+\"/api/home\", {\n            credentials: 'include'\n        })\n        // @ts-ignore\n        .then((res) => {\n            if (res.ok) return res.json()\n        })\n        .then((obj:any) => dispatch({ type: obj.isLogin ? LOGIN : LOGOUT }))\n        .catch(() => dispatch({ type: LOGOUT }))\n    }, [])\n    if (state.isLogin) return <LoginHeader />\n    return <LogoutHeader />\n};\nexport default App;\n"],"sourceRoot":""}