{"version":3,"sources":["webpack:///./script/build/actions/index.ts","webpack:///./script/build/reducers/listGoodsTs.ts","webpack:///./script/build/components/goodslist.tsx"],"names":["__webpack_require__","d","__webpack_exports__","LOGIN","LOGOUT","LISTGOODS","SHOWGOOD","POSTCOMMET","DELETECOMMET","LISTCOMMETS","listGoods","state","action","type","actions","value","useReducer","_react_16_8_6_react","useEffect","List","props","className","map","item","index","Blog_item","key","goodsid","Blog_Item_Image","src","path","width","height","Blog_Item_Note","Blog_Item_Video","autoPlay","RenderItemComponent","words","num","now","category","react_router_dom","to","user","categoryDesc","Date","_time","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","title","__assign","content","length","slice","comment_count","_a","dispatch","fetch","credentials","then","res","ok","json","data"],"mappings":"wFAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAAN,EAAAC,EAAAC,EAAA,sBAAAK,IAAAP,EAAAC,EAAAC,EAAA,sBAAAM,IAAAR,EAAAC,EAAAC,EAAA,sBAAAO,IAAO,IAAMN,EAAQ,QACRC,EAAS,SACTC,EAAY,YACZC,EAAW,WACXC,EAAa,aACbC,EAAe,eACfC,EAAc,wECDZ,SAASC,EAAUC,EAAUC,GAC3C,YADiC,IAAAD,MAAA,IAC1BC,EAAOC,MACb,KAAKC,EAAA,EACJ,OAAOF,EAAOG,MACf,QACC,OAAOJ,6NCLRK,EAAAC,EAAA,WACAC,EAAAD,EAAA,UAmBF,SAASE,EAAKC,GACZ,OACEH,EAAA,oBAAII,UAAU,iBACXD,EAAMV,UAAUY,IAAI,SAACC,EAAWC,GAAkB,OACjDP,EAAA,cAACQ,EAAS,CAACC,IAAKH,EAAKI,QAASJ,KAAMA,OAyB5C,SAASK,EAAgBR,GACvB,OACEH,EAAA,qBAAKI,UAAU,YACbJ,EAAA,qBACEY,IAAK,sBAAwBT,EAAMU,KACnCC,MAAOX,EAAMW,MACbC,OAAQZ,EAAMY,UAKtB,SAASC,EAAeb,GACtB,OAAQH,EAAA,0BAEV,SAASiB,EAAgBd,GACvB,OACEH,EAAA,qBAAKI,UAAU,YACbJ,EAAA,uBACEY,IAAK,sBAAwBT,EAAMU,KACnCK,UAAQ,KAKhB,SAASV,EAAUL,GACjB,IAEIgB,EA7DiBC,EAAYC,EAZfC,EAuEZhB,EAAOH,EAAMG,KAGnB,OAFiBA,EAAKiB,UAGpB,IAAK,QACHJ,EAAsBR,EACtB,MACF,IAAK,OACHQ,EAAsBH,EACtB,MACF,IAAK,QACHG,EAAsBF,EAK1B,OACEjB,EAAA,oBAAII,UAAU,QACZJ,EAAA,cAACwB,EAAA,EAAI,CAACC,GAAI,iBAAmBnB,EAAKI,SAChCV,EAAA,wBAAIA,EAAA,sBAAMI,UAAU,UAAUE,EAAKoB,WAASpB,EAAKqB,cAAoB3B,EAAA,oBAAII,UAAU,SA1FvEkB,EA0F0F,IAAIM,KAAKtB,EAAKuB,QAzF3GC,cAON,KANGR,EAAIS,WAAa,GAMN,IALZT,EAAIU,UAKqB,MAJzBV,EAAIW,WAIoC,IAHtCX,EAAIY,aAGiD,IAFrDZ,EAAIa,eAqFXnC,EAAA,wBAAKM,EAAK8B,OACVpC,EAAA,cAACmB,EAAmBkB,EAAA,GAAK/B,IACzBN,EAAA,mBAAGI,UAAU,YAjFEgB,EAiFuBd,EAAKgC,QAhFjDjB,GADiCA,EAiFyB,KAhF7C,IACND,EAAMmB,OAASlB,EAAMD,EAAMoB,MAAM,EAAGnB,GAAO,MAAQD,IAgFpDpB,EAAA,mBAAGI,UAAU,QAAOJ,EAAA,mBAAGI,UAAU,cAAiBE,EAAKmC,iBAMhDxD,EAAA,QAzEf,WACQ,IAAAyD,EAAA3C,EAAAN,EAAA,IAACC,EAAAgD,EAAA,GAAOC,EAAAD,EAAA,GAcd,OAbAzC,EAAU,WAER2C,MAAM,2CAAiC,CACrCC,YAAa,YAGZC,KAAK,SAAUC,GACd,GAAIA,EAAIC,GACN,OAAOD,EAAIE,SAGdH,KAAK,SAACC,GAAQ,OAAAJ,EAAS,CAAE/C,KAAMC,EAAA,EAAWC,MAAOiD,EAAIG,UACvD,IAEDlD,EAAA,cAACE,EAAI,CAACT,UAAWC","file":"static/js/7.c2054928dfe559d23fd4.js","sourcesContent":["export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LISTGOODS = 'LISTGOODS';\nexport const SHOWGOOD = 'SHOWGOOD';\nexport const POSTCOMMET = 'POSTCOMMET';\nexport const DELETECOMMET = 'DELETECOMMET';\nexport const LISTCOMMETS = 'LISTCOMMETS';\nexport const DONELOADING = 'DONELOADING';","import {LISTGOODS} from '../actions';\r\ntype actionType = {\r\n\ttype: string,\r\n\tvalue: []\r\n}\r\nexport default function listGoods(state=[], action: actionType) {\r\n\tswitch(action.type) {\r\n\t\tcase LISTGOODS:\r\n\t\t\treturn action.value\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\t\r\n}\r\n\r\n","import * as React from 'react';\nimport { LISTGOODS } from \"../actions/\";\nimport reducer from \"../reducers/listGoodsTs\"\nimport { Link } from \"react-router-dom\";\nconst {\n  useReducer,\n  useEffect\n} = React\nfunction formatDate(now: any) {\n  var year = now.getFullYear();\n  var month = now.getMonth() + 1;\n  var date = now.getDate();\n  var hour = now.getHours();\n  var minute = now.getMinutes();\n  var second = now.getSeconds();\n  return (\n    year + \"-\" + month + \"-\" + date + \"   \" + hour + \":\" + minute + \":\" + second\n  );\n}\n\nfunction filterContent(words: any, num: any) {\n  num = num || 100\n  return words.length > num ? words.slice(0, num) + '...' : words\n}\n\nfunction List(props: any) {\n  return (\n    <ul className=\"app-list-page\">\n      {props.listGoods.map((item: any, index: number) => (\n        <Blog_item key={item.goodsid} item={item} />\n      ))}\n    </ul>\n  );\n}\n\nfunction Goodslist() {\n  const [state, dispatch] = useReducer(reducer, [])\n  useEffect(() => {\n    // @ts-ignore\n    fetch(perfixerURL + \"/api/goods/list\", {\n      credentials: \"include\"\n    })\n      // @ts-ignore\n      .then(function (res) {\n        if (res.ok) {\n          return res.json();\n        }\n      })\n      .then((res) => dispatch({ type: LISTGOODS, value: res.data }))\n  }, [])\n  return (\n    <List listGoods={state} />\n  );\n}\nfunction Blog_Item_Image(props: any) {\n  return (\n    <div className=\"wrap-uri\">\n      <img\n        src={\"//res.macsen318.com\" + props.path}\n        width={props.width}\n        height={props.height}\n      />\n    </div>\n  )\n}\nfunction Blog_Item_Note(props: object) {\n  return (<div></div>)\n}\nfunction Blog_Item_Video(props: any) {\n  return (\n    <div className=\"wrap-uri\">\n      <video\n        src={\"//res.macsen318.com\" + props.path}\n        autoPlay\n      />\n    </div>\n  )\n}\nfunction Blog_item(props: any) {\n  const item = props.item;\n  const category = item.category;\n  let RenderItemComponent: any;\n  switch (category) {\n    case 'image':\n      RenderItemComponent = Blog_Item_Image;\n      break;\n    case \"note\":\n      RenderItemComponent = Blog_Item_Note;\n      break;\n    case 'video':\n      RenderItemComponent = Blog_Item_Video;\n      break;\n    default:\n      break;\n  }\n  return (\n    <li className=\"item\">\n      <Link to={\"/goods/detail/\" + item.goodsid}>\n        <h2><span className=\"avator\">{item.user}发布了{item.categoryDesc}</span><em className=\"time\">{formatDate(new Date(item._time))}</em></h2>\n        <h3>{item.title}</h3>\n        <RenderItemComponent {...item} />\n        <p className=\"content\">{filterContent(item.content, '')}</p>\n        <p className=\"more\"><i className=\"i-comment\"></i>{item.comment_count}</p>\n      </Link>\n    </li>\n  );\n\n}\nexport default Goodslist\n"],"sourceRoot":""}