<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Macsen 开发学习之道</title>
  <link rel="stylesheet" href="./res/main.css">
  <link rel="shortcut icon" href="//www.macsen318.com/favicon.ico" type="image/x-icon"/>
</head>

<body>

  <div id="container" class="container">
    <div class="header">
      <h1>梁玉森的个人网站</h1>
      <p>YuSen Liang Personal Website</p>
    </div>
    <div class="content">
      <div class="page-alpha">
        <p>»<a href="//github.com/macsen110/Blog">个人博客(Blog)</a></p>
        <p>»<a href="/zone">Lofter Zone</a></p>
        <p>»<a href="/ui/">ui 插件(yao-m-ui)</a></p>
        <p>»<a href="/pages">路由轮子 (yao-pages)</a></p>
        <p>»<a href="/canvas">Mini 美图秀搜索秀</a></p>
      </div>
      
    </div>
    <div class="footer">
      <p><a href="mailto:839945193@qq.com">Contact</a> | macsen318.com</p>
    </div>
  </div>
  <script type="text/javascript">
    window.VConsole && new VConsole();
    window.__swConfig = {
        use: true,
        updateReload: 1,
        unstalledReload: 0,
        swUpdateCb: null,
        version: 3
    };
    window.onload = function () {
        requestNotice().finally(appendRegister)
    }
    function appendRegister() {
      var hostname = location.hostname;
      var protocol = location.protocol;
      if (!"serviceWorker" in navigator) return;
      if (protocol === 'http:' && hostname != '127.0.0.1' && hostname !== 'localhost') return;
      var script = document.createElement('script');
      var firstScript = document.getElementsByTagName('script')[0];
      script.type = 'text/javascript';
      script.async = true;
      script.src = './sw-register.js?v=' + Date.now();
      firstScript.parentNode.insertBefore(script, firstScript);
    }
    function requestNotice() {
      
      return new Promise((resolve, reject) => {
        if (!('PushManager' in window)) {
          // Push isn't supported on this browser, disable or hide UI.
          return reject();
        }
        const permissionPromise = Notification.requestPermission(result => {
            resolve(result);
        });
        if (permissionPromise) {
            permissionPromise.then(resolve);
        }
      })
      .then(result => {
          if (result === 'granted') {
              return result
          }
          else {
              console.log('no permission');
          }
      });
    }
  </script>
</body>

</html>
