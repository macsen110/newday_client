<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta http-equiv=X-UA-Compatible content="IE=edge">
  <meta name=theme-color content=#1976d2>
  <meta name=apple-mobile-web-app-capable content=yes>
  <meta name=apple-mobile-web-app-status-bar-style content=black>
  <meta name=apple-mobile-web-app-title content=111>
  <meta name=msapplication-TileImage content=./public/sw/icons/android-chrome-192x192.png>
  <meta name=msapplication-TileColor content=#1976d2>
  <link rel=apple-touch-icon href=./public/swicons/android-chrome-192x192.png>
  <link rel=apple-touch-startup-image media="(device-width: 320px)" href=./public/sw/launches/apple-launch-640x1136.png>
  <link rel=apple-touch-startup-image media="(device-width: 375px)" href=./public/sw/launches/apple-launch-750x1334.png>
  <link rel=apple-touch-startup-image media="(device-width: 414px)" href=./public/sw/launches/apple-launch-1242x2208.png>
  <link rel=apple-touch-startup-image media="(device-width: 768px)" href=./public/sw/launches/apple-launch-1536x2048.png>
  <link rel="manifest" href="manifest.json">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-title" content="">
  <meta name="description" content="">
  <meta content="no-cache,must-revalidate" http-equiv="Cache-Control">
  <meta content="no-cache" http-equiv="pragma">
  <meta content="0" http-equiv="expires">
  <title>Macsen 开发学习之道</title>
  <link rel="stylesheet" href="./res/main.css">
  <link rel="shortcut icon" href="//www.macsen318.com/favicon.ico" type="image/x-icon"/>
</head>

<body>

  <div id="container" class="container">
    <div class="header">
      <h1>梁玉森的个人网站</h1>
      <p>YuSen Liang Personal Website</p>
    </div>
    <div class="content">
      <div class="page-alpha">
        <p>»<a href="//github.com/macsen110/Blog">个人博客(Blog)</a></p>
        <p>»<a href="/zone">Lofter Zone</a></p>
        <p>»<a href="/ui/">ui 插件(yao-m-ui)</a></p>
        <p>»<a href="/pages">路由轮子 (yao-pages)</a></p>
        <p>»<a href="/canvas">Mini 美图秀搜索秀</a></p>
        <p>»<a href="/404">测试404</a></p>
        <p>
          <botton id="btn" style="width:100%;height: 30px; display: block; background-color: orange; color: #fff; visibility: hidden;">
            测试引导用户安装
          </botton>
        </p>
      </div>
      
    </div>
    <div class="footer">
      <p><a href="mailto:839945193@qq.com">Contact</a> | macsen318.com</p>
    </div>
  </div>
  <script type="text/javascript">
    window.VConsole && new VConsole();
    window.__swConfig = {
        use: true,
        updateReload: 1,
        unstalledReload: 0,
        swUpdateCb: null,
        version: 3
    };
    window.onload = function () {
        requestNotice().finally(appendRegister)
    }
    function appendRegister() {
      var hostname = location.hostname;
      var protocol = location.protocol;
      if (!"serviceWorker" in navigator) return;
      if (protocol === 'http:' && hostname != '127.0.0.1' && hostname !== 'localhost') return;
      var script = document.createElement('script');
      var firstScript = document.getElementsByTagName('script')[0];
      script.type = 'text/javascript';
      script.async = true;
      script.src = './sw-register.js?v=' + Date.now();
      firstScript.parentNode.insertBefore(script, firstScript);
    }
    
    function requestNotice() {
      
      return new Promise((resolve, reject) => {
        if (!('PushManager' in window)) {
          // Push isn't supported on this browser, disable or hide UI.
          return reject();
        }
        const permissionPromise = Notification.requestPermission(result => {
            resolve(result);
        });
        if (permissionPromise) {
            permissionPromise.then(resolve);
        }
      })
      .then(result => {
          if (result === 'granted') {
              return result
          }
          else {
              console.log('no permission');
          }
      });
    }
  </script>
</body>

</html>
