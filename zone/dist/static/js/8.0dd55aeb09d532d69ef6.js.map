{"version":3,"sources":["webpack:///./script/build/utils/xhr.js","webpack:///./script/build/components/logout.js"],"names":["xhr","opt","method","aysc","sendData","cache","Object","assign","url","perfixerURL","send","_xhr","XMLHttpRequest","timeout","withCredentials","open","setHeader","setRequestHeader","onload","readyState","status","sucData","response","JSON","parse","done","error","Error","faild","bind","onerror","data","logout","self","callData","code","props","initAction","isLogin","history","push","React","Component","connect"],"mappings":";;;;;;;;;;;;IAAMA,G;AACL,cAAaC,GAAb,EAAkB;AAAA;;AAEjB,OAAKC,MAAL,GAAc,KAAd;AACA,OAAKC,IAAL,GAAY,IAAZ;AACA,OAAKC,QAAL,GAAgB,IAAhB;AACA,OAAKC,KAAL,GAAa,IAAb;AACA,MAAI,QAAOJ,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AAC5BK,UAAOC,MAAP,CAAc,IAAd,EAAoBN,GAApB;AACA;AACD,OAAKO,GAAL,GAAWC,2BAAWA,GAAG,KAAKD,GAA9B;AACA,OAAKE,IAAL;AAEA;;;;yBACM;AACH,OAAIC,OAAO,IAAIC,cAAJ,EAAX;AACHD,QAAKE,OAAL,GAAe,KAAf;AACA,QAAKC,eAAL,KAAyBH,KAAKG,eAAL,GAAuB,IAAhD;AACAH,QAAKG,eAAL,GAAuB,IAAvB;AACGH,QAAKI,IAAL,CAAU,KAAKb,MAAf,EAAuB,KAAKM,GAA5B,EAAiC,KAAKL,IAAtC;;AAEA,OAAI,KAAKa,SAAT,EAAoB;AACnBL,SAAKM,gBAAL,CAAsB,cAAtB,EAAsC,KAAKD,SAA3C;AACA;AACJ,OAAI,CAAC,KAAKX,KAAV,EAAiB;AAChBM,SAAKM,gBAAL,CAAsB,QAAtB,EAAgC,UAAhC;AACAN,SAAKM,gBAAL,CAAsB,eAAtB,EAAuC,UAAvC;AACA;;AAEEN,QAAKO,MAAL,GAAc,YAAY;AACvB,QAAIP,KAAKQ,UAAL,KAAoB,CAAxB,EAA2B;AACvB,SAAIR,KAAKS,MAAL,KAAgB,GAApB,EAAyB;AACvB,UAAIC,OAAJ;AACA,UAAIV,KAAKW,QAAT,EAAmB;AACfD,iBAAUE,KAAKC,KAAL,CAAWb,KAAKW,QAAhB,CAAV;AACH;AACE,WAAKG,IAAL,CAAUJ,OAAV;AACJ,MAND,MAOI;AACA,UAAIK,QAAQ,IAAIC,KAAJ,CAAU,sBAAV,CAAZ;AACA,WAAKC,KAAL,CAAWF,KAAX;AACH;AACJ;AACH,IAda,CAcZG,IAdY,CAcP,IAdO,CAAd;AAeAlB,QAAKmB,OAAL,GAAe,UAASJ,KAAT,EAAe;AAC3B,SAAKE,KAAL,CAAWF,KAAX;AACF,IAFc,CAEbG,IAFa,CAER,IAFQ,CAAf;AAGAlB,QAAKD,IAAL,CAAU,KAAKN,QAAf;AACH;;;uBACI2B,I,EAAM,CAEV;;;0BACO,CAEP;;;;;;AAGa/B,4DAAf,E;;;;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AAKA;AACA;;IACMgC,M;;;;;;;;;;;;AACF;6CACqB;AACjB,gBAAIC,OAAO,IAAX;AACA,gBAAIjC,0DAAJ,CAAQ;AACJQ,qBAAK,mBADD;AAEJiB,sBAAM,cAASS,QAAT,EAAmB;AACrB,wBAAGA,SAASC,IAAT,IAAiB,CAApB,EAAuB;AACnBF,6BAAKG,KAAL,CAAWC,UAAX,CAAsB,EAACC,SAAS,KAAV,EAAtB;AACAL,6BAAKG,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;AACJ,iBAPG;AAQJ1B,iCAAiB,IARb;AASJc,uBAAO,iBAAW;AACd,wBAAIF,QAAQ,IAAIC,KAAJ,CAAU,iBAAV,CAAZ;AAEH;AAZG,aAAR;AAcH;;;iCACQ;AACL,mBACI,uEADJ;AAGH;;;;EAvBgBc,4CAAKA,CAACC,S;;AA0BZC,kIAAOA,CAAC,IAAR,EAAc,EAACN,+EAAD,EAAd,EAA4BL,MAA5B,CAAf,E","file":"static/js/8.0dd55aeb09d532d69ef6.js","sourcesContent":["class xhr {\n\tconstructor (opt) {\n\n\t\tthis.method = 'GET';\n\t\tthis.aysc = true;\n\t\tthis.sendData = null;\n\t\tthis.cache = true;\n\t\tif (typeof opt === 'object') {\n\t\t\tObject.assign(this, opt);\n\t\t}\n\t\tthis.url = perfixerURL + this.url\n\t\tthis.send();\n\n\t}\n\tsend() {\n\t    var _xhr = new XMLHttpRequest();\n\t\t_xhr.timeout = 60000;\n\t\tthis.withCredentials && (_xhr.withCredentials = true);\n\t\t_xhr.withCredentials = true\n\t    _xhr.open(this.method, this.url, this.aysc);\n\t\t\n\t    if (this.setHeader) {\n\t    \t_xhr.setRequestHeader(\"Content-Type\", this.setHeader);\t    \n\t    }\n\t\tif (!this.cache) {\n\t\t\t_xhr.setRequestHeader(\"Pragma\", \"no-cache\");\n\t\t\t_xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n\t\t}\n\n\t    _xhr.onload = function () {\n\t       if (_xhr.readyState === 4) {\n\t           if (_xhr.status === 200) {\n\t           \t\tvar sucData;\n\t           \t\tif (_xhr.response) {\n\t                \tsucData = JSON.parse(_xhr.response);\n\t           \t\t}\n\t                this.done(sucData);\n\t           }\n\t           else{\n\t               var error = new Error(\"something went wrong\");\n\t               this.faild(error);\n\t           }\n\t       }\n\t    }.bind(this);\n\t    _xhr.onerror = function(error){\n\t       this.faild(error);\n\t    }.bind(this)\n\t    _xhr.send(this.sendData)\n\t}\n\tdone(data) {\n\n\t}\n\tfaild() {\n\n\t}\n}\n\nexport default xhr;","import React from 'react';\nimport xhr from '../utils/xhr';\nimport {connect} from 'react-redux'; \nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from 'react-router-dom';\nimport {initAction} from '../actions/actions';\n//register views\nclass logout extends React.Component {\n    //static contextTypes = Object.assign({},{history: PropTypes.history});\n    componentWillMount() {\n        var self = this;\n        new xhr({\n            url: '/api/users/logout',\n            done: function(callData) {\n                if(callData.code == 0) {\n                    self.props.initAction({isLogin: false});\n                    self.props.history.push('/')\n                }\n            },\n            withCredentials: true,\n            faild: function() {\n                var error = new Error('something wrong')\n\n            }\n        })\n    }\n    render() {\n        return (\n            <div></div>\n        )\n    }\n}\n\nexport default connect(null, {initAction})(logout);"],"sourceRoot":""}