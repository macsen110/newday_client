{"remainingRequest":"/Users/macsen/Desktop/rltx-webpack/api/EmployeeService.js","dependencies":[{"path":"/Users/macsen/Desktop/rltx-webpack/api/EmployeeService.js","mtime":1511527701000},{"path":"/Users/macsen/Desktop/rltx-webpack/node_modules/_babel-loader@6.2.10@babel-loader/lib/index.js","mtime":1481808750000},{"path":"/Users/macsen/Desktop/rltx-webpack/node_modules/_cache-loader@1.2.0@cache-loader/dist/cjs.js","mtime":1510929699000}],"contextDependencies":[],"result":["/**\n * 人员服务\n * Created by baipf on 2017/5/19.\n */\n\nimport * as utils from './Utils';\n\nconst axios = require('axios');\nconst apiDomain = require('./ApiConst').apiPersonDomain,\n  apiPermissionDomain = require('./ApiConst').apiPermissionDomain,\n  apiOrgDomain = require('./ApiConst').apiOrgDomain;\n  axios.defaults.withCredentials = true;\n\nimport * as HTTP from './httpUtil';\n\n/**\n * 获取人员列表\n * @param mark          检索\n * @param page          页码\n * @param size          页长\n * @param callback      回调\n */\nfunction list(paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/self/list`;\n  HTTP.get(apiUrl, paramObj, (response, error) => {\n    cb(response, error);\n  });\n}\n\n/**\n * 获取人员部门关系列表\n * @param mark          检索\n * @param page          页码\n * @param size          页长\n * @param callback      回调\n */\nfunction personDeptRelationList(paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/dept/relation/list`;\n  HTTP.get(apiUrl, paramObj, (response, error) => {\n    cb(response, error);\n  });\n}\n\nfunction registerList(paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/register/list`;\n  HTTP.get(apiUrl, paramObj, (response, error) => {\n    cb(response, error);\n  });\n}\n\n/**\n * 获取table头部数据\n * @param callback\n */\nfunction getColumn(cb) {\n  const apiUrl = `${apiDomain}/list_render_info/employee/list`;\n  HTTP.get(apiUrl, {}, (res, error) => {\n    cb(res, error);\n  });\n}\n\n/**\n * 获取search数据\n * @param callback\n */\nfunction getSearch(cb) {\n  const apiUrl = `${apiDomain}/search_render_info/employee/list`;\n  HTTP.get(apiUrl, {}, (res, error) => {\n    cb(res, error);\n  });\n}\n\n\n/**\n * 创建人员\n * @param paramObj\n *         code      用户编码\n *         fullName      真实姓名（跟身份证一致）\n *         deptCode      部门编码\n *         phone         手机号码\n *         userType      1.非司机用户 2.司机用户\n *         positionName  岗位名称\n *         roleCode      角色code\n *         userTag       标签列表\n * @param callback       回调\n */\nfunction add(paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/add`;\n  HTTP.post(apiUrl, paramObj, (res, error) => {\n    cb(res, error);\n  });\n}\n\n/**\n * 编辑员工\n * @param paramObj     参数对象\n *         code      用户对象\n *         fullName      真实姓名（跟身份证一致）\n *         userType      类型\n *         deptCode      部门\n *         positionName  主营业务\n *         roleCode      角色\n *         userTag       标签\n *         phone         手机号\n * @param callback\n */\nfunction edit(code, paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/${code}/edit`;\n  HTTP.post(apiUrl, paramObj, (res, error) => {\n    cb(res, error);\n  });\n}\n\n/**\n * 组织邀请人员加入组织\n * @param userIdentityCode  用户编码\n *         userType          1.非司机用户 2.司机用户\n *         deptCode          部门code\n *         positionName      positionName\n *         roleCodes         角色codes\n *         fullName          用户名称\n *         phone             手机号码\n * @param callback          回调\n */\nfunction applyOrg(paramObj, callback) {\n  const apiUrl = `${apiDomain}/employee/${paramObj.userIdentityCode}/org_apply`;\n  // console.log(apiUrl);\n  axios.post(apiUrl, utils.objToParamStr(paramObj)).then(function (response) {\n    // console.log(response);\n    callback(response, null);\n  }).catch(function (err) {\n    callback(null, err);\n  });\n}\n\n\n/**\n * 根据手机号匹配用户\n * @param paramObj  参数对象\n *         phone     手机号\n * @param callback  回调\n */\nfunction getPhone(paramObj, callback) {\n  const apiUrl = `${apiDomain}/employee/${paramObj.phone}/get_phone`;\n  console.log(apiUrl);\n  axios.get(apiUrl).then(function (response) {\n    // console.log(response);\n    callback(response, null);\n  }).catch(function (err) {\n    callback(null, err);\n  });\n}\n\n/**\n * 删除员工(离职)\n * @param paramObj\n *         code\n * @param callback\n */\nfunction deleted(paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/${paramObj.code}/delete`;\n  HTTP.post(apiUrl, paramObj, (success, error) => {\n    cb(success, error);\n  });\n}\n\n/**\n * 禁用员工\n * @param paramObj  参数对象\n *         code  编码\n * @param callback  回调\n */\nfunction disable(paramObj, callback) {\n  const apiUrl = `${apiDomain}/employee/${paramObj.code}/disable`;\n  // console.log(apiUrl);\n  axios.post(apiUrl).then(function (response) {\n    // console.log(response);\n    callback(response, null);\n  }).catch(function (err) {\n    callback(null, err);\n  });\n}\n\n/**\n * 启用员工\n * @param paramObj  参数对象\n *         code  编码\n * @param callback  回调\n */\nfunction enable(paramObj, callback) {\n  const apiUrl = `${apiDomain}/employee/${paramObj.code}/enable`;\n  // console.log(apiUrl);\n  axios.post(apiUrl).then(function (response) {\n    // console.log(response);\n    callback(response, null);\n  }).catch(function (err) {\n    callback(null, err);\n  });\n}\n\n/**\n * 人员信息,司机详情\n * @param paramObj  参数对象\n *         code  编码\n * @param callback  回调\n */\nfunction get(paramObj, cb) {\n  const apiUrl = `${apiDomain}/employee/${paramObj.code}/get`;\n  HTTP.get(apiUrl, paramObj, (res, error) => {\n    cb(res, error);\n  });\n}\n\nfunction getRole(paramObj, cb) {\n  const apiUrl = `${apiPermissionDomain}/permission/user/${paramObj.userCode}/role/list`;\n  HTTP.get(apiUrl, paramObj, (success, error) => {\n    cb(success, error);\n  });\n}\n\nfunction getDept(paramObj, cb) {\n  const apiUrl = `${apiOrgDomain}/dept/${paramObj.code}/get`;\n  HTTP.get(apiUrl, paramObj, (success, error) => {\n    cb(success, error);\n  });\n}\n\nfunction editRole(paramObj, cb) {\n  const apiUrl = `${apiPermissionDomain}/permission/set/user/${paramObj.userCode}/role`;\n  HTTP.post(apiUrl, paramObj, (success, error) => {\n    cb(success, error);\n  });\n}\n\n/**\n * export\n * @param callback\n */\nfunction exportCsv(paramObj, callback) {\n  const apiUrl = `${apiDomain}/export/employee`;\n  HTTP.get(apiUrl, paramObj, (success, error) => {\n    callback(success, error);\n  });\n}\n\n/**\n * 下载错误数据的CSV文件\n */\nfunction downloadErrorData(paramObj, callback) {\n  const apiUrl = `${apiDomain}/generator/employee`;\n  HTTP.post(apiUrl, paramObj, (success, error) => {\n    callback(success, error);\n  });\n}\n\n/**\n * 下载CSV模板\n */\nfunction downloadTemplate(paramObj, callback) {\n  const apiUrl = `${apiDomain}/download/template/employee`;\n  HTTP.get(apiUrl, paramObj, (success, error) => {\n    callback(success, error);\n  });\n}\n\nexport { list, registerList, getColumn, getSearch, add, edit, applyOrg, getPhone, deleted, disable, enable, get, getRole, getDept, editRole, exportCsv, downloadErrorData, downloadTemplate, personDeptRelationList};\n",null]}