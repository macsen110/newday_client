{"remainingRequest":"/Users/macsen/Desktop/Macsen/rltx-webpack/node_modules/_babel-loader@6.2.10@babel-loader/lib/index.js??ref--2-1!/Users/macsen/Desktop/Macsen/rltx-webpack/api/initService.js","dependencies":[{"path":"/Users/macsen/Desktop/Macsen/rltx-webpack/api/initService.js","mtime":1511527701000},{"path":"/Users/macsen/Desktop/Macsen/rltx-webpack/node_modules/_cache-loader@1.2.0@cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/macsen/Desktop/Macsen/rltx-webpack/node_modules/_babel-loader@6.2.10@babel-loader/lib/index.js","mtime":1481808750000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initRole = exports.initConfig = exports.get = undefined;\n\nvar cov_2k9gz6z3oi = function () {\n  var path = '/Users/macsen/Desktop/Macsen/rltx-webpack/api/initService.js',\n      hash = '2ee6fe8a1ad6574d219e5a77e8fa6ee647f8a24c',\n      global = new Function('return this')(),\n      gcv = '__coverage__',\n      coverageData = {\n    path: '/Users/macsen/Desktop/Macsen/rltx-webpack/api/initService.js',\n    statementMap: {\n      '0': {\n        start: {\n          line: 7,\n          column: 14\n        },\n        end: {\n          line: 7,\n          column: 30\n        }\n      },\n      '1': {\n        start: {\n          line: 9,\n          column: 28\n        },\n        end: {\n          line: 9,\n          column: 69\n        }\n      },\n      '2': {\n        start: {\n          line: 12,\n          column: 24\n        },\n        end: {\n          line: 12,\n          column: 61\n        }\n      },\n      '3': {\n        start: {\n          line: 14,\n          column: 0\n        },\n        end: {\n          line: 14,\n          column: 38\n        }\n      },\n      '4': {\n        start: {\n          line: 22,\n          column: 17\n        },\n        end: {\n          line: 22,\n          column: 54\n        }\n      },\n      '5': {\n        start: {\n          line: 23,\n          column: 2\n        },\n        end: {\n          line: 25,\n          column: 5\n        }\n      },\n      '6': {\n        start: {\n          line: 24,\n          column: 4\n        },\n        end: {\n          line: 24,\n          column: 24\n        }\n      },\n      '7': {\n        start: {\n          line: 32,\n          column: 17\n        },\n        end: {\n          line: 32,\n          column: 72\n        }\n      },\n      '8': {\n        start: {\n          line: 33,\n          column: 2\n        },\n        end: {\n          line: 35,\n          column: 5\n        }\n      },\n      '9': {\n        start: {\n          line: 34,\n          column: 4\n        },\n        end: {\n          line: 34,\n          column: 24\n        }\n      },\n      '10': {\n        start: {\n          line: 42,\n          column: 17\n        },\n        end: {\n          line: 42,\n          column: 29\n        }\n      },\n      '11': {\n        start: {\n          line: 43,\n          column: 14\n        },\n        end: {\n          line: 43,\n          column: 27\n        }\n      },\n      '12': {\n        start: {\n          line: 44,\n          column: 2\n        },\n        end: {\n          line: 46,\n          column: 5\n        }\n      },\n      '13': {\n        start: {\n          line: 45,\n          column: 4\n        },\n        end: {\n          line: 45,\n          column: 24\n        }\n      }\n    },\n    fnMap: {\n      '0': {\n        name: 'get',\n        decl: {\n          start: {\n            line: 21,\n            column: 9\n          },\n          end: {\n            line: 21,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 21,\n            column: 17\n          },\n          end: {\n            line: 26,\n            column: 1\n          }\n        },\n        line: 21\n      },\n      '1': {\n        name: '(anonymous_1)',\n        decl: {\n          start: {\n            line: 23,\n            column: 23\n          },\n          end: {\n            line: 23,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 23,\n            column: 44\n          },\n          end: {\n            line: 25,\n            column: 3\n          }\n        },\n        line: 23\n      },\n      '2': {\n        name: 'initRole',\n        decl: {\n          start: {\n            line: 31,\n            column: 9\n          },\n          end: {\n            line: 31,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 31,\n            column: 22\n          },\n          end: {\n            line: 36,\n            column: 1\n          }\n        },\n        line: 31\n      },\n      '3': {\n        name: '(anonymous_3)',\n        decl: {\n          start: {\n            line: 33,\n            column: 24\n          },\n          end: {\n            line: 33,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 33,\n            column: 45\n          },\n          end: {\n            line: 35,\n            column: 3\n          }\n        },\n        line: 33\n      },\n      '4': {\n        name: 'initConfig',\n        decl: {\n          start: {\n            line: 41,\n            column: 9\n          },\n          end: {\n            line: 41,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 41,\n            column: 34\n          },\n          end: {\n            line: 47,\n            column: 1\n          }\n        },\n        line: 41\n      },\n      '5': {\n        name: '(anonymous_5)',\n        decl: {\n          start: {\n            line: 44,\n            column: 50\n          },\n          end: {\n            line: 44,\n            column: 51\n          }\n        },\n        loc: {\n          start: {\n            line: 44,\n            column: 71\n          },\n          end: {\n            line: 46,\n            column: 3\n          }\n        },\n        line: 44\n      }\n    },\n    branchMap: {},\n    s: {\n      '0': 0,\n      '1': 0,\n      '2': 0,\n      '3': 0,\n      '4': 0,\n      '5': 0,\n      '6': 0,\n      '7': 0,\n      '8': 0,\n      '9': 0,\n      '10': 0,\n      '11': 0,\n      '12': 0,\n      '13': 0\n    },\n    f: {\n      '0': 0,\n      '1': 0,\n      '2': 0,\n      '3': 0,\n      '4': 0,\n      '5': 0\n    },\n    b: {},\n    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'\n  },\n      coverage = global[gcv] || (global[gcv] = {});\n\n  if (coverage[path] && coverage[path].hash === hash) {\n    return coverage[path];\n  }\n\n  coverageData.hash = hash;\n  return coverage[path] = coverageData;\n}();\n\nvar _Utils = require('./Utils');\n\nvar utils = _interopRequireWildcard(_Utils);\n\nvar _httpUtil = require('./httpUtil');\n\nvar HTTP = _interopRequireWildcard(_httpUtil);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar axios = (cov_2k9gz6z3oi.s[0]++, require('axios'));\n\nvar apiPermissionDomain = (cov_2k9gz6z3oi.s[1]++, require('./ApiConst').apiPermissionDomain);\n\nvar apiPersonDomain = (cov_2k9gz6z3oi.s[2]++, require('./ApiConst').apiPersonDomain);\n\ncov_2k9gz6z3oi.s[3]++;\naxios.defaults.withCredentials = true;\n\nfunction get(cb) {\n  cov_2k9gz6z3oi.f[0]++;\n\n  var apiUrl = (cov_2k9gz6z3oi.s[4]++, apiPersonDomain + '/person/self/info');\n  cov_2k9gz6z3oi.s[5]++;\n  HTTP.get(apiUrl, {}, function (response, error) {\n    cov_2k9gz6z3oi.f[1]++;\n    cov_2k9gz6z3oi.s[6]++;\n\n    cb(response, error);\n  });\n}\n\nfunction initRole(cb) {\n  cov_2k9gz6z3oi.f[2]++;\n\n  var apiUrl = (cov_2k9gz6z3oi.s[7]++, apiPermissionDomain + '/permission/set/root_permission');\n  cov_2k9gz6z3oi.s[8]++;\n  HTTP.post(apiUrl, {}, function (response, error) {\n    cov_2k9gz6z3oi.f[3]++;\n    cov_2k9gz6z3oi.s[9]++;\n\n    cb(response, error);\n  });\n}\n\nfunction initConfig(paramObj, cb) {\n  cov_2k9gz6z3oi.f[4]++;\n\n  var apiUrl = (cov_2k9gz6z3oi.s[10]++, paramObj.url),\n      apiType = (cov_2k9gz6z3oi.s[11]++, paramObj.type);\n  cov_2k9gz6z3oi.s[12]++;\n  HTTP.post(apiUrl, utils.objToParamStr(apiType), function (response, error) {\n    cov_2k9gz6z3oi.f[5]++;\n    cov_2k9gz6z3oi.s[13]++;\n\n    cb(response, error);\n  });\n}\n\nexports.get = get;\nexports.initConfig = initConfig;\nexports.initRole = initRole;",{"version":3,"sources":["api/initService.js"],"names":["utils","HTTP","axios","require","apiPermissionDomain","apiPersonDomain","defaults","withCredentials","get","cb","apiUrl","response","error","initRole","post","initConfig","paramObj","url","apiType","type","objToParamStr"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;;IAAYA,K;;AAWZ;;IAAYC,I;;;;AATZ,IAAMC,gCAAQC,QAAQ,OAAR,CAAR,CAAN;;AAEA,IAAMC,8CAAsBD,QAAQ,YAAR,EAAsBC,mBAA5C,CAAN;;AAGA,IAAMC,0CAAkBF,QAAQ,YAAR,EAAsBE,eAAxC,CAAN;;;AAEAH,MAAMI,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAOA,SAASC,GAAT,CAAaC,EAAb,EAAiB;AAAA;;AACf,MAAMC,iCAAYL,eAAZ,uBAAN;AADe;AAEfJ,OAAKO,GAAL,CAASE,MAAT,EAAiB,EAAjB,EAAqB,UAACC,QAAD,EAAWC,KAAX,EAAqB;AAAA;AAAA;;AACxCH,OAAGE,QAAH,EAAaC,KAAb;AACD,GAFD;AAGD;;AAKD,SAASC,QAAT,CAAkBJ,EAAlB,EAAsB;AAAA;;AACpB,MAAMC,iCAAYN,mBAAZ,qCAAN;AADoB;AAEpBH,OAAKa,IAAL,CAAUJ,MAAV,EAAkB,EAAlB,EAAsB,UAACC,QAAD,EAAWC,KAAX,EAAqB;AAAA;AAAA;;AACzCH,OAAGE,QAAH,EAAaC,KAAb;AACD,GAFD;AAGD;;AAKD,SAASG,UAAT,CAAoBC,QAApB,EAA8BP,EAA9B,EAAkC;AAAA;;AAChC,MAAMC,kCAASM,SAASC,GAAlB,CAAN;AAAA,MACEC,mCAAUF,SAASG,IAAnB,CADF;AADgC;AAGhClB,OAAKa,IAAL,CAAUJ,MAAV,EAAkBV,MAAMoB,aAAN,CAAoBF,OAApB,CAAlB,EAAgD,UAACP,QAAD,EAAWC,KAAX,EAAqB;AAAA;AAAA;;AACnEH,OAAGE,QAAH,EAAaC,KAAb;AACD,GAFD;AAGD;;QAEQJ,G,GAAAA,G;QAAKO,U,GAAAA,U;QAAYF,Q,GAAAA,Q","file":"initService.js","sourceRoot":"/Users/macsen/Desktop/Macsen/rltx-webpack","sourcesContent":["/**\n * Created by cc on 17/5/2.\n */\n\nimport * as utils from './Utils';\n\nconst axios = require('axios');\n// 权限服务\nconst apiPermissionDomain = require('./ApiConst').apiPermissionDomain;\n\n// 人员服务\nconst apiPersonDomain = require('./ApiConst').apiPersonDomain;\n\naxios.defaults.withCredentials = true;\n\nimport * as HTTP from './httpUtil';\n\n/**\n * 获取人员信息\n */\nfunction get(cb) {\n  const apiUrl = `${apiPersonDomain}/person/self/info`;\n  HTTP.get(apiUrl, {}, (response, error) => {\n    cb(response, error);\n  });\n}\n\n/**\n * 初始化角色\n */\nfunction initRole(cb) {\n  const apiUrl = `${apiPermissionDomain}/permission/set/root_permission`;\n  HTTP.post(apiUrl, {}, (response, error) => {\n    cb(response, error);\n  });\n}\n\n/**\n * 初始化配置\n */\nfunction initConfig(paramObj, cb) {\n  const apiUrl = paramObj.url,\n    apiType = paramObj.type;\n  HTTP.post(apiUrl, utils.objToParamStr(apiType), (response, error) => {\n    cb(response, error);\n  });\n}\n\nexport { get, initConfig, initRole };\n"]}]}