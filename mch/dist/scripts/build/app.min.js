webpackJsonp([0],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Created by wudi on 15/11/30.
 */
 !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1),__webpack_require__(0),__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = function(RSAUtils, $, ui) {  
	var APP = {
		version:'1.0.0',
		/**
		 * 选择底部导航高亮
		 * @param i//-2 隐藏底部按钮,-1 reset底部按钮, else 触发当前按钮高亮 
		 */
		selectBottomNav:function (i) {
			if (i == -2) $('#bottom_nav').hide();
			else if (i == -1) {
				$('#bottom_nav').show();
				$("#bottom_nav .item").forEach(function(item,index){
					$(item).addClass('bind-location').removeClass('active')
				});
			}
			else {
				$('#bottom_nav').show()
				$("#bottom_nav .item").forEach(function(item,index){
					if(index == i){
						$(item).addClass('active')
								//.removeClass('bind-location')
					}else{
						$(item).addClass('bind-location').removeClass('active')
					}
				});
			}
		},
		/**
		 * ajax 请求公共方法 
		 * @param url
		 * @param data
		 * @param callback
		 */
		ajaxFunc:function(url, data,callback){
			var self = this;
			var token = localStorage.getItem('token');
			var otherDate = localStorage.getItem('profileInfo')?JSON.parse(localStorage.getItem('profileInfo')):{};
			data.uid = self.uid;
			data.token = token;
			data.appType = self.openType;
			data.cardNo = otherDate.cardNo;
			$.ajax({
				cache:true,
				url : self.host.api + url,
				type : 'post',
				data:JSON.stringify(data),
				contentType : 'application/json',
				success : function(response) {
					if (!callback) return;
					var callbackFunc = callback.func,
						callbackContext = callback.context;
					callbackFunc && typeof(callbackFunc) == 'function' && callbackFunc.call(callbackContext, response);
				},
				error:function (err) {
					console.error(url+'  错误是:'+err);
					APP.router.endLoading();
					APP.ui.showPrompt('网络错误,<br>请稍后重试')
				}
			})
		}
	};
	APP.init = function () {
		var self = this;
		//强制刷新用户个人信息的缓存内容
		if (localStorage.getItem('storeVersion') != 1) {
			localStorage.setItem('storeVersion', 1);
			localStorage.removeItem('profileInfo');
		}
		self.uid = self._getOpenId();
		self.openType = self._getOpenType();
		self.host = {
			api: '//www.macsen318.com/api'
		};
		self.ui = ui;
		self._todo();
		self.router.originalUrl = location.href;
		self.bindUI();
		
	}
	
	APP._getOpenType = function () {
		var self = this;
		var openTypeValue = self.tools.getLocationParam(location.search).appType;
		return openTypeValue;
	}
	APP._getOpenId = function () {
		var self = this;
		var openIdValue = decodeURIComponent(self.tools.getLocationParam(location.search).openId);
		return openIdValue;
	}
	APP._todo = function () {
		var self = this;
		self.router.startLoading();
		if (localStorage.getItem('token')) {
			var token = localStorage.getItem('token');
			var data = {
				request_context: {
					uid : self.uid,
					appType : self.openType,
				},
				access_token: token,
				system: 'mch'
			};
			self.getCustomerInfo(data);
		}
		else {
			$.ajax({
				url : self.host.api + '/infanthospital/v1/getToken',
				type : 'get',
				contentType : 'application/json',
				success : function(response) {
					localStorage.setItem('token', response.data.token);
					self._todo()
				}
			})
		}

		;(function () {
			var obj = APP.tools.getLocationParam(location.search);
			if (obj.shareLink) {
				var type;
				var pageName = obj.pageName;
				if (pageName == 'pregnant_record') {
					type = obj.pregnantStatus;
					APP.tools.recordBehavior('/infanthospital/v1/superShare', {shareType: type, clickType: 2})
				}
			}
		} ())
	}    
	APP.bindUI = function () {
		window.onpopstate = function (event) {
			var stateObj = event.state;
			if (stateObj) {
				stateObj.urlAction = 1;
				APP.router.gotoPage(stateObj)
			}
		}
		//开放调试提醒
		window.onerror = function (msg, url, lineNo, columnNo, error) {
			var string = msg.toLowerCase();
			var substring = "script error";
			if (string.indexOf(substring) > -1){
				alert('Script Error: See Browser Console for Detail');
			} else {
			
			}
			alert(msg, url, lineNo, columnNo, error);
			return false;
		};
		this.tools.bindLocation();
	};
	APP.afterInitConsumerFun = function () {
		//根据医院规定原因 取消引导购买套餐的入口
		return false;
		var msg;
		var funUpdate;
		var btn;
		var funLocation = function () {
			var obj;
			if (APP.profileInfo.superMm == 1) obj = {pageName: 'package_index'}
			else obj = {pageName: 'package_detail'}
			APP.router.gotoPage(obj)
		}
		if (APP.profileInfo.isAboutMm == 1) {
			msg = APP.profileInfo.superMm == 1 ? '恭喜你即将晋级为辣妈' : '恭喜你即将晋级为辣妈<br>升级Super妈咪';
			btn = APP.profileInfo.superMm == 1 ? "回顾我的好孕时光" : '看看孕期那些事';
			funUpdate = function () {
				var data = {
					request_context: {
						"customerId":  APP.profileInfo.customerId,
						"appType":  APP.openType,
						"uid": APP.uid,
						isAboutMm:2
					},
					access_token: localStorage.getItem('token'),
					system: 'mch'
				};
				$.ajax({
					url : APP.host.api + '/infanthospital/v1/updateIsAboutMm',
					data: JSON.stringify(data),
					cache: true,
					type : 'post',
					contentType : 'application/json'
				})
			};
			openDialog(msg, btn, funUpdate, funLocation, 1)
		}
		else if (APP.profileInfo.isPopUp == 0) {
			btn = "升级为Super 妈咪";
			funUpdate = function () {
				var data = {
					request_context: {
						"customerId":  APP.profileInfo.customerId,
						"appType":  APP.openType,
						"uid": APP.uid,
						updateIsPopUp:1
					},
					access_token: localStorage.getItem('token'),
					system: 'mch'
				};
				$.ajax({
					url : APP.host.api + '/infanthospital/v1/updateIsPopUp',
					data: JSON.stringify(data),
					cache: true,
					type : 'post',
					contentType : 'application/json'
				})
			}
			openDialog(msg, btn, funUpdate, funLocation, 2)
		}
		function openDialog(content, btn, update, location, type) {
			if (type == 1) {
				APP.ui.Dialog({
					isMask: true,
					className: 'tip-update-package-dialog',
					title: '<i class="icon sign"></i><i class="icon heart"></i><i class="icon-dialog-cancel"></i>',
					content: '<p>'+content+'</p>',
					foot: '<botton class="btn-dialog-ok btn">'+btn+'</botton>',
					afterOk: function () {
						this.destory();
						update();
						location()
					},
					afterClose: function () {
						update();
					}
				})
			}
			else {
				APP.ui.Dialog({
					isMask: true,
					className: 'createCard-update-package-dialog',
					title: '<i class="icon sign"></i><i class="icon-dialog-cancel"></i>',
					content: '<p class="icon"></p>',
					foot: '<botton class="btn-dialog-ok btn">'+btn+'</botton>',
					afterOk: function () {
						this.destory();
						update();
						location()
					},
					afterClose: function () {
						update();
					}
				})
			}
			

		} 
		
	}
	APP.getCustomerHistory = function () {
		var self = this;
		var data = {
			request_context: {
				"customerId":  APP.profileInfo.customerId || '',  //卡号  (String类型)
				"appType":  self.openType, //渠道号      (String类型)
				"uid": self.uid
			},
			access_token: localStorage.getItem('token'),
			system: 'mch'
		};
		$.ajax({
			url : self.host.api + '/infanthospital/v1/customerHistory',
			data: JSON.stringify(data),
			cache: true,
			type : 'post',
			contentType : 'application/json'
		})
	};
	APP.getCustomerInfo = function (data, successCb) {
		var self = this;
		$.ajax({
			url : self.host.api + '/infanthospital/v1/initCustomer',
			data: JSON.stringify(data),
			type : 'post',
			contentType : 'application/json',
			success : function(response) {
				APP.router.endLoading();
				//response = JSON.parse(response);
				if (response.ret == 1) {
					var emStatus = response.data.emStatus;
					if (emStatus == 0) {
						localStorage.removeItem('profileInfo');
						localStorage.removeItem('reportList');
						APP.router.gotoPage({pageName: 'index'});
						return;
					}
					// else{
					//     APP.getCustomerHistory();
					// }

					//当状态为2时,
					//获取用户信息,并缓存到localStrage,
					if (emStatus == 2 || emStatus == 1) {
						self.saveProfileInfo(emStatus, response, successCb);
					}
				}
				else {
					APP.ui.showPrompt(response.msg)
				}
			},
			error: function () {
				APP.router.endLoading();
				APP.ui.showPrompt('网络错误,<br>请稍后重试')
			}
		})
	};
	APP.tools = {
		pageCount: function(){
			if($('#baiduCount').length){
				$('#baiduCount').remove();
				baiduCount();
			} else{
				baiduCount();
			}
			function baiduCount(){
				var _hmt = _hmt || [];
				(function() {
					var hm = document.createElement("script");
					hm.src = "//hm.baidu.com/hm.js?9512d7f461c346a527354b5e160a67c2";
					hm.id = "baiduCount";
					var s = document.getElementsByTagName("script")[0]; 
					s.parentNode.insertBefore(hm, s);
				})();
			}
		},
		//记录分享,点击之类的打点
		recordBehavior: function (url, args) {
			var request_context = {
				customerId:  APP.profileInfo.customerId,
				appType:  APP.openType,
				uid: APP.uid                   
			}
			for (var i in args) {
				request_context[i] = args[i]
			}
			var data = {
				request_context: request_context,
				access_token: localStorage.getItem('token'),
				system: 'mch'
			}
			$.ajax({
				url : APP.host.api + url,
				data: JSON.stringify(data),
				type : 'post',
				contentType : 'application/json'
			})

		},
		bindLocation: function () {
			var self = this;
			var isMove = false;
			//解决ios 下delegate 不能点击bug
			var tapEvent = 'ontouchstart' in window ? 'touchend' : 'click';
			document.body.addEventListener('touchmove', function () {
				isMove = true;
			});
			document.body.addEventListener(tapEvent, function (e) {
				var bindLocationDom = self.getDomByEle(e.target, '.bind-location');
				if (bindLocationDom) {
					if (bindLocationDom.dataset.href) {
						e.preventDefault();
						e.stopPropagation();
						if (!isMove) {
							var stateObj = {};
							if (bindLocationDom.dataset.options) {
								stateObj = JSON.parse(bindLocationDom.dataset.options);
							}
							stateObj.pageName = bindLocationDom.dataset.href;
							APP.router.gotoPage(stateObj, {})
						}
						else isMove = false;
					}
				}
			})
		},
		getDomByEle: function (curentEl, selector) {
			var sign = selector[0];
			function getId() {
				while (curentEl) {
					if (curentEl.id === selector.slice(1)) return curentEl
						curentEl = curentEl.parentNode;
				}
				return undefined
			}
			function getClass() {
				while (curentEl) {
					if (curentEl.classList && curentEl.classList.contains(selector.slice(1))) return curentEl;
					curentEl = curentEl.parentNode;
				}
				return undefined
			}
			function getEleName() {
				while (curentEl) {
					if (curentEl.tagName === selector.toUpperCase()) return curentEl;
					curentEl = curentEl.parentNode;
				}
				return undefined
			}
			switch (sign) {
				case '.':
				return getClass()
				case '#':
				return getId()
				default:        
				return getEleName();
			}
		},
		formatDate: function () {
			var date = new Date();
			var format = "yyyy-MM-dd HH:mm:ss";
			switch(typeof date) {   
				case "string":   
				date = new Date(date.replace(/-/, "/"));   
				break;   
				case "number":   
				date = new Date(date);   
				break;   
			}    
			if (!date instanceof Date) return;   
			var dict = {   
				"yyyy": date.getFullYear(),   
				"M": date.getMonth() + 1,   
				"d": date.getDate(),   
				"H": date.getHours(),   
				"m": date.getMinutes(),   
				"s": date.getSeconds(),   
				"MM": ("" + (date.getMonth() + 101)).substr(1),   
				"dd": ("" + (date.getDate() + 100)).substr(1),   
				"HH": ("" + (date.getHours() + 100)).substr(1),   
				"mm": ("" + (date.getMinutes() + 100)).substr(1),   
				"ss": ("" + (date.getSeconds() + 100)).substr(1)   
			};       
			return format.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g, function() {   
				return dict[arguments[0]];   
			});
		},
		cbPathObj: function () {
			var query = location.search;
			if ('pageName' in this.getLocationParam(query))  {
				var cbPathObj = this.getLocationParam(query);
				if (cbPathObj.pageName !== 'index') {
					delete cbPathObj.openId;
					delete cbPathObj.appType;
					return cbPathObj;
				}
			}
			return undefined;
		},
		setPath: function (obj) {
			var path = location.pathname;
			delete obj.replace;
			return path + '?openId=' + encodeURIComponent(APP.uid) + '&appType=' + APP.openType + '&' + this.serializeObj(obj)
		},
		serializeObj: function (options) {
			var arr = [];
			for (var i in options) {
				arr.push(i+'='+options[i]);				
			}
			return arr.join('&');
		},
		getLocationParam: function (url) {
			var params = url.toString().slice(1).split("&");
			var returnObject = {};
			for(var i = 0; i != params.length; i++) {
				var index = params[i].indexOf("=");
				returnObject[params[i].slice(0, index)] = params[i].slice(index+1);
			}
			return returnObject;
		},
		selectCardNo: function (list, cb) {
			var self = this;
			var wrapDiv = document.createElement('div');
			wrapDiv.className = 'widget-dialog-selectCardNo';
			var ininerList = '';
			list.forEach(function (val, index) {
				var checked = '';
				if (APP.profileInfo && APP.profileInfo.cardNo == val.cardNumber) {
					checked = "checked";    
				}
				ininerList+='<li class="item">'+
				'<input data-index="'+index+'" '+checked+' id="select-cardNo-'+index+'" name="select-cardNo" type="radio" value="'+val.cardNumber+'">'+
				'<label for="select-cardNo-'+index+'"><em class="key">'+val.name+':</em>'+val.cardNumber+'</label>'+
				'</li>'
			})
			wrapDiv.innerHTML = '<div class="mask"></div>'+
			'<div class="container">'+
			'<p class="title">请选择当前账号下的就诊人</p>'+
			'<ul class="list">'+ininerList+'</ul>'+
			'<p class="btn">确定</p><div>';
			document.body.appendChild(wrapDiv);
			var btn = wrapDiv.querySelector('.btn');
			btn.addEventListener('click', function () {
				var checkEle = wrapDiv.querySelector('[type="radio"]:checked');
				if (!checkEle) {
					alert('请至少勾选一个选型!')
					return false;
				}
				btn.removeEventListener('click', function () {});
				wrapDiv.parentNode.removeChild(wrapDiv);
				cb(list[checkEle.dataset.index]);    
			})
		},
		encryptedString: function (publicKey) {
			var key = RSAUtils.getKeyPair(publicKey.publicExponent, '', publicKey.modulus);
			var current = this.formatDate();
			var openId = APP.uid + ',' + current;
			var token = RSAUtils.encryptedString(key, openId);
			return token;
		},
		//设置页面标题,主要针对ios下的微信端
		setPageTitle: function (title) {
			var $body = $('body');
			document.title = title
			// hack在微信等webview中无法修改document.title的情况
			var $iframe = $('<iframe src="/fav.icon" style="height:0px; width: 0px; visibility: hidden"></iframe>').on('load', function() {
				setTimeout(function() {
					$iframe.off('load').remove()
				}, 0)
			}).appendTo($body) 
		},
		platform: function () {
			var ua = navigator.userAgent;
			var android = ua.match(/(Android)[\s\/]+([\d.]+)/);
			var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
			var iphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/);
			var ipod = !ipad && !iphone && ua.match(/(iPod).*OS\s([\d_]+)/);
			if(ipad||iphone||ipod){
				return 2;
			} else {
				return 1;
			}
			
		},
		//日期控件change方法在ios和android下表现不一样
		selectValueChange: function ($dom, cb) {
			var self = this;
			var eventName = self.platform() == 2 ? 'blur' : (self.getEnvironment() == 2 ? 'input' : 'change');
			$dom.on(eventName, function () {
				cb($dom.val())
			})
		},//正则表达式对象
		regExpObj: {
			mobile: /(^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$)|(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/
		},
		//判断运行浏览器环境,
		getEnvironment: function () {
			var ua = navigator.userAgent.toLowerCase();
			var isWeixin = ua.indexOf('micromessenger') != -1;
			var isApply = ua.indexOf('aliapp') != -1;
			if (isWeixin) return 1;
			if (isApply) return 2;
			return null
		},
		isValidEnvironment: function () {
			var isValidEnvironments = this.getEnvironment();
			var environment = APP._getOpenType();
			if (!isValidEnvironments) {
				if (environment == 1) {//微信环境
					$('#wx_environment_placeholder').show();
					return false;
				}
				if (environment == 2) {//支付宝环境
					$('#apply_environment_placeholder').show();
					return false;
				}
			}
			else {
				if (isValidEnvironments == 1 && environment == 2) {
					$('#apply_environment_placeholder').show();
					return false;
				}
				else if (isValidEnvironments == 2 && environment == 1) {
					$('#wx_environment_placeholder').show();
					return false;
				}
				else {
					$('#wx_environment_placeholder').show();
					return false;
				}
			}
			return true
		}
		  
	};
	APP.profileInfo = {};
	APP.saveProfileInfo = function (status, response, successCb) {
		var self = this;
		//等于1是没有卡
		if (status == 1) {
			localStorage.removeItem('profileInfo');
			localStorage.removeItem('reportList');
			sessionStorage.clear(); 
			self.profileInfo.emStatus = status;
			if (successCb) successCb(status)
			else self.router.initJump();
		}
		else {
			personInfoObj(response.data.customerList[0], 1); 
			function personInfoObj(obj, cardLens) {
				self.profileInfo = obj;
				self.profileInfo.uid = APP.uid;
				self.profileInfo.emChannel = response.emChannel;
				self.profileInfo.emStatus = status;
				//localStorage.setItem('profileInfo', JSON.stringify(self.profileInfo));
				APP.getCustomerHistory();
				if (successCb) successCb(status, cardLens)
				else self.router.initJump();
			}                      
		}
	}  
	APP.changeCardCb = function (status, cardLens) {
		if (status == 1) {
			APP.ui.Dialog({
					isMask: true,
					title: '提示',
					className: 'dialog-container',
					content: '您当前未绑定就诊卡',
					foot: '<button class="btn-dialog-ok">确定</button>',
					afterOk: function () {
						this.close()
						APP.router.gotoPage({pageName: 'antenatal', replace: 1})
					}    
			});
		}
		else {
			if (cardLens == 1) {
				APP.ui.showPrompt('您只有一张就诊卡,<br>无法更换哦', function () {
					APP.router.gotoPage({pageName: APP.router.curPathName, replace: 1})
				})
				return;
			}
			APP.router.gotoPage({pageName: APP.router.curPathName, replace: 1})
		}
	} 

	APP.router = {
		setRouter: function (stateObj, component) {
			if (!('urlAction' in stateObj)) {
				if (stateObj.replace) history.replaceState(stateObj, '', APP.tools.setPath(stateObj));
				else history.pushState(stateObj, '', APP.tools.setPath(stateObj));
			}
			this.updatePageView(component)
		},
		updatePageView: function (component) {
			this.endLoading();
			if (this.curPathWidget) this.curPathWidget.destroy();
			this.curPathWidget = component; 
			//APP.afterInitPageFun()           
		},
		curPathWidget: undefined,
		curPathName: undefined,
		cbPathObj: APP.tools.cbPathObj(),
		gotoPage: function (stateObj) {
			this.curPathName = stateObj.pageName;
			this.startLoading();
			this.pathNew(stateObj.pageName, stateObj);            
		},
		initJump: function () {
			var stateObj = {};
			if (this.cbPathObj) stateObj = this.cbPathObj;
			else stateObj.pageName = 'antenatal';
			stateObj.replace = 1;
			this.gotoPage(stateObj);
			this.cbPath = null;
		},
		startLoading: function (type) {
			var $loading = $('#layout_loading');
			$loading.addClass('visible')
		},
		endLoading: function (type) {
			var $loading = $('#layout_loading');
			$loading.removeClass('visible')
		}

	};
	APP.router.pathNew = function (path, stateObj) {
		var load = __webpack_require__(7)("./"+path+".js");
		load(function (path) {
			if (APP.router.curPathName == stateObj.pageName) path.init(stateObj);
		})


	}
	APP.recordsObj = {
		setReqStr: function (obj) {
			var base = {
				cururl: document.location.href.replace(/&/g, '~@~'),
				autumn: 'wap',
				uuid: 'uuid',
				userid: APP.uid,
				refer: APP.appType == 1 ? 'wx' : 'apply',
				tracker_u: APP.appType == 1 ? 'wx100' : 'apply100',
				visitid: 'visitid',
				mall: 'mall',
				original: 'yifuying',
				action: 'none',
			};
			if (obj) {
				for (var i in obj) {
					base[i] = obj[i]
				}
			}
			return APP.tools.serializeObj(base)
		}
	}
	Object.defineProperty(window, 'APP', {
		value: APP
	}) ;
	APP.init();
	return {}
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 5 */,
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {
    /****************
    tab 切换插件
    参数:
    tabNav:表示tab click item
    tabCon: 内容区域显示
    tabNavItems 触发切换的element
    tabConItems  显示区域的内容elements
    curIndex 当前显示的index
    *****/
    function TabWidget(args) {
        if(args && ("object" == typeof args)){
            for(var arg in args){
                this[arg] = args[arg];
            }
        }
        this.tabNavContainer = this.tabNavContainer || document.querySelector('.tab-nav-container');
        this.tabConContainer = this.tabConContainer || document.querySelector('.tab-con-container');
        this.tabNavContainer && (this.tabNavItems = this.tabNavItems || this.tabNavContainer.children);
        this.tabConContainer && (this.tabConItems = this.tabConItems || this.tabConContainer.children);
        this.curIdex = this.curIdex || 0;
        this.init()
    }

    TabWidget.prototype = {
        constructor: TabWidget,
        init: function () {
            var self = this;
            self.change(this.curIdex);
            if (self.tabNavItems) {
                [].forEach.call(self.tabNavItems, function (item, index) {
                    item.addEventListener('click', function () {
                        if (!this.classList.contains('on')) self.change(index);				
                    })
                })            
            }
        },
        change: function(index) {
            var self = this;
            self.curIdex = index;
            if (self.tabNavItems) {
                [].forEach.call(self.tabNavItems, function (item, i) {
                    if (i !== index) {
                        item.classList.remove('on');
                        self.tabConItems[i].classList.remove('on')
                    }
                    else {
                        item.classList.add('on');
                        self.tabConItems[i].classList.add('on')
                    }
                })

            }
            else {
                [].forEach.call(self.tabConItems, function (item, i) {
                    if (i !== index) item.classList.remove('on')
                    else item.classList.add('on')
                })
                
            } 
            if (self.callback) self.callback(index);           
        }
            
    }
    /***
     * *dialog 页面弹框组件
     * *
     * *****/    
    //弹框
    function Dialog(options) {
        this.title = null;
        this.content = null;
        this.foot = null;
        this.canMaskClose = true;
        this.className = ''
        this.type = 'dialog';
        this.container = document.createElement('div');
        this.isMask = true;
        this.config(options);
        this.mask = this.isMask ? '<div class="dialog-mask-bg"></div>' : '';
        this.open();
        return this;
    }
    Dialog.prototype = {
        constructor: Dialog,
        config: function (options) {
            if (typeof options === 'object') {			
                for (var i in options) {
                    this[i] = options[i]
                }
            }
            return this;
        },
        handleEvent: function (e) {
            var target = e.target;
            var classList = target.classList;
            
            //点击遮罩层,不做任何事情,直接摧毁弹框
            if (classList.contains('dialog-mask-bg')) {
                this.canMaskClose ? this.close() : null; 			
                return
            }
            //点击确定按钮
            if (classList.contains('btn-dialog-ok')) {
                this.afterOk()
                return
            }
            //点击取消按钮,或者关闭的图标
            if (classList.contains('btn-dialog-cancel') || classList.contains('icon-dialog-cancel')) {
                this.close()
            }
        },
        open: function() {
            this.container.className = "widget-dialog "+this.className;
            this.title = this.title ? '<div class="title">' + this.title + '</div>' :'';
            this.content = this.content ? '<div class="content">' + this.content + '</div>' : '';
            this.foot = this.foot ? '<div class="foot">' + this.foot + '</div>' : ''; 
            this.main = this.title + this.content + this.foot;
            this.container.innerHTML = '<div class="main">' + this.main + '</div>' + this.mask;
            var body = document.body;
            var self = this;
            body.appendChild(this.container);
            //remeber do not write like this
            //this.container.addEventLister('click', this.close) 
            //this replay for the current object in the event callback functions
        
            this.afterOpen();
        
            this.container.addEventListener('click',this)
        
        },
        afterOpen: function () {
            //do something after the dialog open;
        },
        afterOk: function () {
            //default event is destory;
            this.destory()
        },
        close: function () {
            this.afterClose();
            this.destory();
        
        },
        afterClose: function () {
            //do something after the dialog close;
        },
        destory: function () {
            var body = document.body;
            if (this.container) {
                body.removeChild(this.container);
                this.container = null;
            }
        }
    };
    /**
     * *easy Move
     * *页面滑动插件
     * *******/
	function easyMove (element, options) {
		var isTouch = 'ontouchstart' in window;
		if (!element) return null; 
		this.element = element;
        this.parentEle = options.parentEle || this.element;
		this.child = element.children[0]; //选取一个子元素,以便可以随时获取其宽度
        this.length = element.children.length;
        this.focusIndex = options.focusIndex || 0;
		this.index = options.index || 0; //初始选中元素序号
		this.speed = options.speed || 300; //矫正动画时间ms
		this.offset = options.offset || 0; //选中点偏移
		this.limitBorder = options.limitBorder || false; //滑动后是否会回顶到边界，优先级高于offset
		this.showNum = options.showNum || this.length; //显示的元素个数（可选,只在limitBorder为true时需要）
		this.deltaX = 0;
		this.deltaY = 0;
		this.callback = options.callback || function () {}; //矫正动画完成后的回调函数
        this.touchMoveCb = options.touchMoveCb || function () {}; //监听动画滑动
		this.hasMoved = false; //是否触发过onTouchMove，用以区分点击与滑动
        this.orientation = options.orientation || 1; //滑动的方向,1为横向, 2为纵向
        this.distance = options.distance;//自定义滑动距离,
		if (this.parentEle.addEventListener) {
	  		this.parentEle.addEventListener(isTouch?'touchstart':'mousedown', this, false);
	    	this.element.addEventListener('webkitTransitionEnd', this, false);
	    	this.element.addEventListener('transitionend', this, false);
	    }
        //判断横向还是竖向滑动,设置相应的宽或高
        if (this.orientation == 1) { 
            this.childWidth = options.childWidth || this.child.clientWidth;
            this.parentWidth = options.parentWidth || this.childWidth * this.length;
        }
        else {
            this.childHeight = options.childHeight || this.child.clientHeight;
            this.parentHeight = options.parentHeight || this.childHeight * this.length;
        }
	    this.init();
	}
	easyMove.prototype = {
		init: function () {
			var self = this;
            //设置item和container的宽度
            [].forEach.call(self.element.children, function (item) {
                if (self.orientation == 1) item.style.width = self.childWidth + 'px';
                else item.style.height = self.childHeight + 'px';
            })
            if (self.orientation == 1) self.element.style.width = self.parentWidth + 'px';
            else self.element.style.height = self.parentHeight + 'px';
            
			if (self.orientation == 1) self.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(' + (-(self.index-self.focusIndex) * self.childWidth) + 'px,0,0)';
		    if (self.orientation == 2) self.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(0,' + (-(self.index-self.focusIndex) * self.childHeight) + 'px,0)';
            self.move(self.index)
        },
		handleEvent: function (e) {
			var self = this;
	    	switch (e.type) {
	      		case 'mousedown':
	      			self.element.addEventListener('mousemove', self, false);
	   				self.element.addEventListener('mouseup', self, false);
	   				self.element.addEventListener('mouseout', self, false);
	      			self.onTouchStart(e);
					break;
	      		case 'mousemove':
	      			self.onTouchMove(e);
	      			break;
	      		case 'mouseup':
		      		self.element.removeEventListener('mousemove', self, false);
		   			self.element.removeEventListener('mouseup', self, false);
		   			self.element.removeEventListener('mouseout', self, false);
		      		self.onTouchEnd(e);
					break;
	     		case 'mouseout':
	      			self.element.removeEventListener('mousemove', self, false);
	   				self.element.removeEventListener('mouseup', self, false);
	   				self.element.removeEventListener('mouseout', self, false);
	      			self.onTouchEnd(e);
	      			break;
	    		case 'touchstart':
	        		self.parentEle.addEventListener('touchmove', self, false);
	        		self.parentEle.addEventListener('touchend', self, false);
	        		self.onTouchStart(e);
	        		break;
	      		case 'touchmove':
	      			self.onTouchMove(e);
	      			break;
	      		case 'touchend':
	        		self.parentEle.removeEventListener('touchmove', self, false);
	        		self.parentEle.removeEventListener('touchend', self, false);
	      			self.onTouchEnd(e);
	      			break;
	      		case 'webkitTransitionEnd':
	      		case 'msTransitionEnd':
	      		case 'oTransitionEnd':
	      		case 'transitionend': self.transitionEnd(e); break;
	    	}
		},
		onTouchStart: function (e) {
			var self = this;
			self.start = {
				pageX: e.touches[0].pageX,
				pageY: e.touches[0].pageY
			};
			//将动画时间设为0，以便在按下时马上结束尚在进行的动画
			self.element.style.webkitTransition = "-webkit-transform 0ms";
		},
		onTouchMove: function (e) {
			var self = this;
            
			//若有多个touch或者被缩放则不滑动		
			if(e.touches.length > 1 || e.scale && e.scale !== 1) return;
			self.deltaX = e.touches[0].pageX - self.start.pageX;
			self.deltaY = e.touches[0].pageY - self.start.pageY;
			//判断滑动方向
            //横向
			if (self.orientation == 1 && Math.abs(self.deltaX) > Math.abs(self.deltaY)) {
				e.preventDefault();
                if (!self.hasMoved) self.touchMoveCb &&  self.touchMoveCb(self.index)   
				self.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(' + (self.deltaX - (self.index-self.focusIndex) * self.childWidth) + 'px,0,0)';
			}
            //纵向
            if (self.orientation == 2 && Math.abs(self.deltaY) > Math.abs(self.deltaX)) {
				e.preventDefault();
                if (!self.hasMoved) self.touchMoveCb &&  self.touchMoveCb(self.index)   
				self.element.style.MozTransform = self.element.style.webkitTransform = 'translate3d(0,' + (self.deltaY - (self.index-self.focusIndex) * self.childHeight) + 'px,0)';
			}
			self.hasMoved = true;
            
		},
		onTouchEnd: function (e) {
			var self = this;
			if (!self.hasMoved) {
				if (self.orientation == 1)  self.deltaX = 0; //若没有滑动过，重置值
                if (self.orientation == 2) self.deltaY = 0
			}
			self.hasMoved = false;
			//矫正位置到最贴近目标处
            if (self.orientation == 1) {
                var width = self.childWidth;
                var targetIndex;
                if (self.distance) {
                    var remainderDistance = self.deltaX - parseInt(self.deltaX/width) * width;
                    if (remainderDistance > 0) {
                        targetIndex = self.index - (parseInt(self.deltaX/width) + (remainderDistance - self.distance > 0 ? 1 : 0));
                    }
                    else {
                        targetIndex = self.index - (parseInt(self.deltaX/width) + (Math.abs(remainderDistance) - self.distance > 0 ? -1 : 0));
                    } 
                }
                else targetIndex = self.index - Math.round(self.deltaX/width);
                
            }
            if (self.orientation == 2) {
                var height = self.childHeight;
                var targetIndex;
                if (self.distance) {
                    var remainderDistance = self.deltaY - parseInt(self.deltaY/height) * height;
                    if (remainderDistance > 0) {
                        targetIndex = self.index - (parseInt(self.deltaY/height) + (remainderDistance - self.distance > 0 ? 1 : 0));
                    }
                    else {
                        targetIndex = self.index - (parseInt(self.deltaY/height) + (Math.abs(remainderDistance) - self.distance > 0 ? -1 : 0));
                    } 
                }
                else targetIndex = self.index - Math.round(self.deltaY/height);
            }
            
			targetIndex = self.limitIndex(targetIndex);
			self.autoMove(targetIndex);
            if (self.callback) {
				var choseId = self.index + self.offset;
				self.callback(self.index);
			}
		},
		transitionEnd: function (e) {
			var self = this;
		},
		autoMove: function (targetIndex) {
			var self = this;
			var style = this.element.style;
			//var width = self.childWidth;
	    	style.webkitTransition = "-webkit-transform "+self.speed+"ms";
            if (self.orientation == 1) style.MozTransform = style.webkitTransform = 'translate3d(' + (-targetIndex * self.childWidth) + 'px,0,0)';
            if (self.orientation == 2) style.MozTransform = style.webkitTransform = 'translate3d(0,' + (-targetIndex * self.childHeight) + 'px,0)';
	    	self.index = targetIndex + self.focusIndex;
		},
		move: function (targetIndex) {
			var self = this;
			targetIndex -= self.offset; 
			targetIndex = self.limitIndex(targetIndex);
			var style = this.element.style;
			style.webkitTransition = "-webkit-transform "+self.speed+"ms";
            if (self.orientation == 1) style.MozTransform = style.webkitTransform = 'translate3d(' + (-targetIndex * self.childWidth) + 'px,0,0)';
            if (self.orientation == 2) style.MozTransform = style.webkitTransform = 'translate3d(0,' + (-targetIndex * self.childHeight) + 'px,0)';
	    	self.index = targetIndex + self.focusIndex;
            if (self.callback) self.callback(self.index);
		},
		limitIndex: function (targetIndex) {
			var self = this;
			if (!self.limitBorder) {
				if (targetIndex < -self.offset) targetIndex = -self.offset;	
				else if (targetIndex > self.length - 1 - self.offset) targetIndex = self.length - 1 - self.offset;
			} 
            else {
				if (targetIndex < 0) targetIndex = 0;
                else if ((targetIndex > self.length - self.showNum + self.focusIndex)) targetIndex = self.length -(self.showNum - self.focusIndex);
			}
			return targetIndex - self.focusIndex;
		}
	}



    return {
        TabWidget: function (args) {return new TabWidget(args)},
        Dialog: function (args) {return new Dialog(args)},
        easyMove: function (dom, args) { return new easyMove(dom, args)},
        showPrompt: function (message, cb) {
            var tpl = '<div class="layout_prompt">'+message+'</div>';
            if($('.layout_prompt').length > 0){
                $('.layout_prompt').remove();
                clearTimeout(this.promptTimer);
                this.promptTimer = null;
            }
            $('body').append(tpl);
            this.promptTimer = setTimeout(function(){
                $('.layout_prompt').remove();
                if (cb) cb()
            },3000);
        }
    }
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./about_us.js": 8,
	"./advice_detail.js": 9,
	"./advice_return.js": 10,
	"./advice_superMother_detail.js": 11,
	"./advice_superMother_list.js": 12,
	"./antenatal.js": 13,
	"./app.js": 14,
	"./baby_first_seen.js": 15,
	"./create_card.js": 16,
	"./create_safety.js": 17,
	"./create_safety_share.js": 18,
	"./declare_safety.js": 19,
	"./gallery.js": 20,
	"./index.js": 21,
	"./package_ag.js": 22,
	"./package_detail.js": 23,
	"./package_index.js": 24,
	"./pregnant_record.js": 25,
	"./profile.js": 26,
	"./report.js": 27,
	"./report_list.js": 28,
	"./select_pregnant_status.js": 29,
	"./waiting_doctor.js": 30
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 7;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(22).then((function(require) {
		cb(__webpack_require__(32));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(20).then((function(require) {
		cb(__webpack_require__(33));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(21).then((function(require) {
		cb(__webpack_require__(34));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(19).then((function(require) {
		cb(__webpack_require__(35));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(18).then((function(require) {
		cb(__webpack_require__(36));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(17).then((function(require) {
		cb(__webpack_require__(37));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(0).then((function(require) {
		cb(__webpack_require__(4));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(16).then((function(require) {
		cb(__webpack_require__(38));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(15).then((function(require) {
		cb(__webpack_require__(39));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(14).then((function(require) {
		cb(__webpack_require__(40));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(13).then((function(require) {
		cb(__webpack_require__(41));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(12).then((function(require) {
		cb(__webpack_require__(42));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(11).then((function(require) {
		cb(__webpack_require__(43));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(10).then((function(require) {
		cb(__webpack_require__(44));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(9).then((function(require) {
		cb(__webpack_require__(45));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(1).then((function(require) {
		cb(__webpack_require__(46));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(8).then((function(require) {
		cb(__webpack_require__(47));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(7).then((function(require) {
		cb(__webpack_require__(48));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(6).then((function(require) {
		cb(__webpack_require__(49));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(5).then((function(require) {
		cb(__webpack_require__(50));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(4).then((function(require) {
		cb(__webpack_require__(51));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(3).then((function(require) {
		cb(__webpack_require__(52));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = function(cb) {
	__webpack_require__.e/* require.ensure */(2).then((function(require) {
		cb(__webpack_require__(53));
	}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

/***/ })
],[4]);