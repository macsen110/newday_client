webpackJsonp([7],{48:function(n,i,s){var a,e;a=[s(0),s(2)],void 0!==(e=function(n,i){return{$rootDom:n("#page_container"),hasInput:0,ready:function(n,i){var a=this,e=s(70);APP.router.curPathName==n.pageName&&(APP.router.setRouter(n,a),a.show(e,i))},show:function(n,s){var a=this;APP.tools.pageCount(),a.$rootDom.html(n),s.host=APP.host.api;var e=1==a.pregnantStatus?i("pregnant_unborn_record_template",s):i("pregnant_born_record_template",s);a.$rootDom.prepend(e),a.bindUI(n,s)},setPageInfo:function(){APP.tools.setPageTitle("怀孕日记")},bindUI:function(i,s){var a=this;a.setPageInfo(),a.$rootDom.addClass("page-pregnant-record visibile"),APP.selectBottomNav(-2);var e=a.$rootDom.find(".page-list"),t=a.$rootDom.find(".page-item"),c=a.$rootDom.find(".arrow-down"),o=(APP.ui.easyMove(e[0],{limitBorder:!0,orientation:2,showNum:1,childHeight:t.height(),distance:30,callback:function(n){t.removeClass("on").eq(n).addClass("on"),n==this.length-1?c.addClass("over"):c.removeClass("over")}}),a.$rootDom.find(".icon-music"));a.audio=a.$rootDom.find(".voice-audio")[0],a.$rootDom.find(".first-saw-scene .change-btn").on("click",function(){var i=a.$rootDom.find(".first-saw-scene .img-box"),s=n(this).data("loading"),e=n(this);if(1!=s){e.data("loading",1);var t=e.data("index"),c={request_context:{customerId:APP.profileInfo.customerId,appType:APP.openType,uid:APP.uid,index:t+1},access_token:localStorage.getItem("token"),system:"mch"};n.ajax({url:APP.host.api+"/infanthospital/v1/selectImage",data:JSON.stringify(c),type:"post",contentType:"application/json",success:function(n){APP.router.endLoading(),1==n.ret?(e.data("index",n.data.index),e.data("loading",0),i.attr("src",n.data.imageUrlInit)):APP.ui.showPrompt(n.msg)}})}}),o.on("click",function(){a.audio.paused?(a.audio.play(),n(this).removeClass("stop")):(n(this).addClass("stop"),a.audio.pause())});var l,r,d,p=a.$rootDom.find(".first-heard-scene .taixin-voice-audio")[0],u=a.$rootDom.find(".first-heard-scene .time"),h=a.$rootDom.find(".first-heard-scene .ms"),m=60;a.$rootDom.find(".first-heard-scene .btn").on("click",function(){var i=n(this).find(".text");if(l)a.$rootDom.find(".first-heard-scene .focus").removeClass("on"),i.text("点击播放"),l=0,a._resetTime(u,h,d,r,p,o);else{i.text("暂停播放"),l=1,p.play(),a.audio.pause(),o.addClass("stop"),h.text(60),u.text(9),a.$rootDom.find(".first-heard-scene .focus").addClass("on");var s=a.$rootDom.find(".first-heard-scene .time").text();d=setInterval(function(){s>0?(m=60,u.text(--s)):(l=0,a._resetTime(u,h,d,r,p,o))},1e3),r=setInterval(function(){--m>=0&&h.text(m)},1e3/60)}}),a.$rootDom.find(".share-btn").on("click",function(){a.$rootDom.find(".share-container-shadow").show(),a._cbShareSuc()}),a.$rootDom.find(".share-container-shadow").on("click",function(){n(this).hide()}),a._initShareObj()},_initShareObj:function(){var n=this;n.shareObj={},n.shareObj.title=1==n.pregnantStatus?"十个月的皇后期就要结束，新生命即将到来":n.babyObj.dateBorn+" 我家 "+n.babyObj.sex+" 在一妇婴诞生啦~生啦~啦~",n.shareObj.imgUrl=1==n.pregnantStatus?location.origin+"/images/icon_share_common.jpg":n.babyObj.babyPictures,n.shareObj.link=location.href,APP.tools.getLocationParam(location.search).shareLink||(n.shareObj.link=n.shareObj.link+"&shareLink=shareLink"),2==APP.openType?n._applyShare():n._initWXshare()},_weixinShare:function(){var n=this,i=n.shareObj.title,s=n.shareObj.imgUrl,a=n.shareObj.link;wx.ready(function(){n.audio.play(),wx.showOptionMenu(),wx.onMenuShareTimeline({title:i,link:a,imgUrl:s,type:"",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:i,desc:"",link:a,imgUrl:s,type:"",dataUrl:"",success:function(){},cancel:function(){}})}),wx.error(function(n){})},_resetTime:function(n,i,s,a,e,t){var c=this;n.text(10),i.text("00"),clearInterval(s),clearInterval(a),c.audio&&c.audio.paused&&c.audio.play(),t.removeClass("stop"),e.pause(),c.$rootDom.find(".first-heard-scene .focus").removeClass("on")},init:function(n){var i=this;i.pregnantStatus=n.pregnantStatus,i._todoPregnant(n)},_todoPregnant:function(i){var s=this,a={request_context:{customerId:APP.profileInfo.customerId,appType:APP.openType,uid:APP.uid,motherStatus:i.pregnantStatus},access_token:localStorage.getItem("token"),system:"mch"};n.ajax({url:APP.host.api+"/infanthospital/v1/motherNote",data:JSON.stringify(a),type:"post",contentType:"application/json",success:function(n){1==n.ret&&s.ready(i,s._todoData(n.data))}})},_cbShareSuc:function(){var n=this;APP.tools.recordBehavior("/infanthospital/v1/superShare",{shareType:n.pregnantStatus,clickType:1})},_initWXshare:function(){var i=this,s=(-1!=APP.router.originalUrl.indexOf("pregnant_record")&&APP.router.originalUrl,{request_context:{system:"ios",app_version:"9",access_token:"123",system_version:"7.0",phone_model:"iphone6",meid:"SASDASDSD",p_version:"1.1.2",url:APP.router.originalUrl},access_token:localStorage.getItem("token"),system:"mch"});n.ajax({url:APP.host.api+"/infanthospital/v1/getTicket",type:"POST",data:JSON.stringify(s),contentType:"application/json",success:function(n){if(1==+n.ret){var s=n.data.data;wx.config({debug:!1,appId:s.appid,timestamp:s.timestamp,nonceStr:s.nonceStr,signature:s.signature,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage"]}),setTimeout(function(){i._weixinShare.bind(i)()},1e3)}}})},_applyShare:function(){var n=this;document.addEventListener("AlipayJSBridgeReady",function(){n.audio.play(),AlipayJSBridge.call("showOptionMenu");var i=Ali.alipayVersion.slice(0,3);document.addEventListener("optionMenu",function(){var s=i<9?"1001":"url",a={title:n.shareObj.title,content:n.shareObj.title,imageUrl:n.shareObj.imgUrl,captureScreen:!0,url:n.shareObj.link};AlipayJSBridge.call("share",{bizType:"testShareBizType",keepOrder:!0,channels:[{name:"Weibo",param:a},{name:"LaiwangTimeline",param:a},{name:"Weixin",param:a},{name:"WeixinTimeLine",param:a},{name:"CopyLink",param:{url:n.shareObj.link}},{name:"ALPContact",param:{contentType:s,content:n.shareObj.title,iconUrl:n.shareObj.imgUrl,imageUrl:n.shareObj.title,url:n.shareObj.link,title:n.shareObj.title,memo:"快来看我的怀孕日记"}}]},function(n){})},!1)},!1)},_todoData:function(n){var i=this;return n.goodWeather>0&&(n.goodWeatherArr=new Array(+n.goodWeather)),n.earlyWarning>0&&(n.earlyWarningArr=new Array(+n.earlyWarning)),n.rainWeather>0&&(n.rainWeatherArr=new Array(+n.rainWeather)),n.dateChildbirth&&(n.dateChildbirth=n.dateChildbirth.replace(/-/g,".")),n.firstCheckDate&&(n.firstCheckDate=n.firstCheckDate.replace(/-/g,".")),n.child&&(n.child.dateBorn=n.child.dateBorn.replace(/-/g,"."),i.babyObj=n.child),n.isShare=APP.tools.getLocationParam(location.search).shareLink||!sessionStorage.getItem("select_pregnant_status")?1:0,n},destroy:function(){var n=this;this.audio&&this.audio.paused&&this.audio.pause(),this.$rootDom.removeClass("visibile page-pregnant-record"),this.$rootDom.html(""),Object.keys(this).forEach(function(i){"function"!=typeof n[i]&&"object"!=typeof n[i]&&"$rootDom"!=i&&delete n[i]}),wx.ready(function(){wx.hideOptionMenu()}),document.addEventListener("AlipayJSBridgeReady",function(){AlipayJSBridge.call("hideOptionMenu")},!1)}}}.apply(i,a))&&(n.exports=e)},70:function(n,i){n.exports='<script type=text/html id=pregnant_unborn_record_template> <div class="wrap-fixed">\n        <i class="icon icon-logo"></i>\n        <i class="icon icon-music"></i>\n        <audio src="{{host+backgroundMusic}}" class="voice-audio" preload="auto" autoplay loop></audio>\n    </div>\n    <ul class="page-list page-unborn-record">\n        <li class="page-item remember-start-scene">\n            <p class="title">\n                十个月的怀孕历程<br>\n                终于要接近尾声啦\n            </p>\n            <p class="desc">那些感动和辛苦你还记得吗?</p>\n            <div class="focus">\n                <i class="arm"></i>\n            </div>\n            <p class="text">回顾我的好孕时光</p>\n        </li>\n        <li class="page-item first-antenatal-scene">\n            <div class="title">{{firstCheckDate}}</div>\n            <p class="desc">第一次在一妇婴产检,丝毫不敢大意</p>\n            <div class="focus">\n                <i class="icon"></i>\n                <i class="icon"></i>\n                <i class="icon"></i>\n                <i class="icon"></i>\n                <i class="icon"></i>\n            </div>\n        </li>\n        <li class="page-item common-b-scene first-saw-scene">\n            <div class="title">在一妇婴第一次看见你</div>\n            <p class="desc">虽然看不清你的模样<br>但是心中已幻想出你的笑颜</p>\n            <div class="focus clear">\n                <i class="icon sign"></i>\n                <img src="{{firstCheckImg ? firstCheckImg : \'./images/tmp/b_test.png\'}}" class="img-box">\n                <div class="wrap-info">                \n                    <div class="center-box icon {{firstCheckImg ? \'\' : \'un-exit-img\'}}"></div>\n                    <div class="tip-box icon">\n                        <div class="tip-content">\n                            {{if (isShare || total == 1 || !firstCheckImg) }}\n                            <button>宝贝靓照</button>\n                            {{else}}\n                            <button class="change-btn" data-loading="0" data-index="{{index}}">换一张</button>\n                            {{/if}}\n                        </div>\n                    </div>\n                    <div class="bottom-box icon"> </div>\n                </div>\n            </div>\n        </li>\n        <li class="page-item first-heard-scene">\n            <p class="title">在一妇婴第一次听见你</p>\n            <div class="desc">\n                <p>小火车般的心跳好像在说</p>\n                <p>妈妈，狂吃狂吃狂吃...</p>\n            </div>\n            <span class="timer">\n                <strong class="time">10</strong>"<em class="ms">00</em>\n            </span>\n            <audio src="{{host+fetalHeartMusic}}" class="taixin-voice-audio" loop></audio>\n            <div class="btn">\n                <i class="icon"></i>\n                <em class="text">点击播放</em>\n            </div>\n            <div class="focus"></div>\n        </li>\n\n        <li class="page-item antenatal-total-scene">\n            <p class="title">{{currentCheckedNum}}次产检</p>\n            <div class="desc">我从未懈怠，请叫我Super妈咪</div>\n            <ul class="focus">\n                {{if goodWeather > 0}}\n                <li class="item">\n                    <span class="sign-box"></span>\n                    <div class="content-box">\n                        <div class="wrap-text">\n                            <div class="text-nums" data-nums={{goodWeather}}>\n                                <p>/次</p>\n                                <p>好天气</p>\n                            </div>\n                            <ul class="wrap-icon-sign">\n                                {{each goodWeatherArr}}\n                                    <li class="icon icon-sun-sign"></li>\n                                {{/each}}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="wrap-icon-weather">\n                        <i class="icon icon-sun"></i>\n                        <i class="icon icon-weather-shadow"></i>\n                    </div>\n                </li>\n                {{/if}}\n                {{if rainWeather > 0}}\n                <li class="item">\n                    <span class="sign-box"></span>\n                    <div class="content-box">\n                        <div class="wrap-text">\n                            <div class="text-nums" data-nums={{rainWeather}}>\n                                <p>/次</p>\n                                <p>下雨天</p>\n                            </div>\n                            <ul class="wrap-icon-sign">\n                                {{each rainWeatherArr}}\n                                    <li class="icon icon-rain-sign"></li>\n                                {{/each}}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="wrap-icon-weather">\n                        <i class="icon icon-rain"></i>\n                        <i class="icon icon-weather-shadow"></i>\n                    </div>\n                </li>\n                {{/if}}\n                {{if earlyWarning > 0}}\n                <li class="item">\n                    <span class="sign-box"></span>\n                    <div class="content-box">\n                        <div class="wrap-text">\n                            <div class="text-nums" data-nums={{earlyWarning}}>\n                                <p>/次</p>\n                                <p>气象预警</p>\n                            </div>\n                            <ul class="wrap-icon-sign">\n                                {{each earlyWarningArr}}\n                                    <li class="icon icon-flash-sign"></li>\n                                {{/each}}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="wrap-icon-weather">\n                        <i class="icon icon-flash"></i>\n                        <i class="icon icon-weather-shadow"></i>\n                    </div>\n                </li>\n                {{/if}}\n            </ul>\n        </li>\n        <li class="page-item antenatal-days-scene">\n            <p class="desc">如今我和宝贝已经一起度过了</p>\n            <p class="title">{{currentPregantDays}}天</p>\n            <div class="focus">\n                <i class="icon"></i>\n            </div>\n\n        </li>\n        \x3c!--<li class="page-item common-b-scene antenatal-b-scene">\n            <p class="title">\n                最幸福的时刻<br>\n                就是看到宝贝健康成长\n            </p>\n            <div class="focus clear">\n                <img src="./images/tmp/b_test.png" class="img-box">\n                <div class="wrap-info">                \n                    <div class="center-box icon"></div>\n                    <div class="tip-box icon">\n                        <div class="tip-content">\n                            <button>B超图像</button>\n                        </div>\n                    </div>\n                    <div class="bottom-box icon"> </div>\n                </div>\n            </div>\n            <p class="tip">注：全部照片可在1产检—Super妈咪服务中查看</p>\n        </li>--\x3e\n        \n        <li class="page-item hospital-scene">\n            <p>我是{{year}}年</p>\n            <p class="title">第 {{rankingMm}} 个</p>\n            <p class="desc">选择一妇婴的准妈妈<br>得到了22位专业医生及护士的保驾护航</p>\n            <div class="hospital">\n                <div class="icon bg"></div>\n                <div class="icon flag-box">\n                    <i class="icon flag-left"></i>\n                    <i class="icon flag-right"></i>\n                    <i class="icon flag"></i>\n                </div>\n            </div>\n        </li>\n        <li class="page-item child-birth-scene">\n            <p class="desc">漫长的妊娠期即将结束<br>爱与责任才刚刚开始</p>\n            <p class="title">{{dateChildbirth}}</p>\n            <p class="desc">期待这天来临</p>\n            <div class="flags icon"></div>\n            <div class="mother-child-box">\n                <div class="icon icon-mother-child"></div>\n                <i class="icon icon-fire"></i>\n                <i class="icon icon-fire"></i>\n            </div>\n            <div>一妇婴&1产检 祝你生一个健康、聪明的宝宝</div>\n            <button class="share-btn icon"></button>\n            <p>*1产检全程提供数据支持</p>\n        </li>\n    </ul>\n    <span class="icon arrow-down"></span> <\/script> <script type=text/html id=pregnant_born_record_template> <div class="wrap-fixed">\n        <i class="icon icon-logo"></i>\n        <i class="icon icon-music"></i>\n        <audio src="{{host+backgroundMusic}}" class="voice-audio" autoplay loop></audio>\n    </div>\n    <ul class="page-list page-born-record">\n        <li class="page-item remember-start-scene">\n            <p class="title">十个月的怀孕历程<br>已经结束</p>\n            <p class="desc">那些感动和辛苦你还记得吗?</p>\n            <div class="focus icon"></div>\n            <p class="text">回顾我的好孕时光</p>\n\n        </li>\n        <li class="page-item first-antenatal-scene">\n            <div class="title">{{firstCheckDate}}</div>\n            <p class="desc">第一次在一妇婴产检,丝毫不敢大意</p>\n            <div class="focus">\n                <i class="icon"></i>\n                <i class="icon"></i>\n                <i class="icon"></i>\n                <i class="icon"></i>\n                <i class="icon"></i>\n            </div>\n        </li>\n        {{if firstCheckImg}}\n        <li class="page-item common-b-scene first-saw-scene">\n            <div class="title">在一妇婴第一次见到你</div>\n            <p class="desc">虽然看不清你的模样<br>但是心中已幻想出你的笑颜</p>\n            <div class="focus clear">\n                <i class="icon sign"></i>\n                <img src="{{firstCheckImg ? firstCheckImg : \'\'}}" class="img-box">\n                <div class="wrap-info">                \n                    <div class="center-box icon {{firstCheckImg ? \'\' : \'un-exit-img\'}}"></div>\n                    <div class="tip-box icon">\n                        <div class="tip-content">\n                            {{if (isShare || total == 1 || !firstCheckImg) }}\n                            <button>宝贝靓照</button>\n                            {{else}}\n                            <button class="change-btn" data-loading="0" data-index="{{index}}">换一张</button>\n                            {{/if}}\n                        </div>\n                    </div>\n                    <div class="bottom-box icon"> </div>\n                </div>\n            </div>\n        </li>\n        {{/if}}\n        <li class="page-item first-heard-scene">\n            <p class="title">在一妇婴第一次听见你</p>\n            <div class="desc">\n                <p>小火车般的心跳好像在说</p>\n                <p>妈妈，狂吃狂吃狂吃...</p>\n            </div>\n            <span class="timer">\n                <strong class="time">10</strong>"<em class="ms">00</em>\n            </span>\n            <audio src="{{host+fetalHeartMusic}}" class="taixin-voice-audio" loop></audio>\n            <div class="btn">\n                <i class="icon"></i>\n                <em class="text">点击播放</em>\n            </div>\n            <div class="focus"></div>\n        </li>\n        <li class="page-item antenatal-total-scene">\n            <p class="title">{{currentCheckedNum}}次产检</p>\n            <div class="desc">我从未懈怠，请叫我Super妈咪</div>\n            <ul class="focus">\n                {{if goodWeather > 0}}\n                <li class="item">\n                    <span class="sign-box"></span>\n                    <div class="content-box">\n                        <div class="wrap-text">\n                            <div class="text-nums" data-nums={{goodWeather}}>\n                                <p>/次</p>\n                                <p>好天气</p>\n                            </div>\n                            <ul class="wrap-icon-sign">\n                                {{each goodWeatherArr}}\n                                    <li class="icon icon-sun-sign"></li>\n                                {{/each}}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="wrap-icon-weather">\n                        <i class="icon icon-sun"></i>\n                        <i class="icon icon-weather-shadow"></i>\n                    </div>\n                </li>\n                {{/if}}\n                {{if rainWeather > 0}}\n                <li class="item">\n                    <span class="sign-box"></span>\n                    <div class="content-box">\n                        <div class="wrap-text">\n                            <div class="text-nums" data-nums={{rainWeather}}>\n                                <p>/次</p>\n                                <p>下雨天</p>\n                            </div>\n                            <ul class="wrap-icon-sign">\n                                {{each rainWeatherArr}}\n                                    <li class="icon icon-rain-sign"></li>\n                                {{/each}}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="wrap-icon-weather">\n                        <i class="icon icon-rain"></i>\n                        <i class="icon icon-weather-shadow"></i>\n                    </div>\n                </li>\n                {{/if}}\n                {{if earlyWarning > 0}}\n                <li class="item">\n                    <span class="sign-box"></span>\n                    <div class="content-box">\n                        <div class="wrap-text">\n                            <div class="text-nums" data-nums={{earlyWarning}}>\n                                <p>/次</p>\n                                <p>气象预警</p>\n                            </div>\n                            <ul class="wrap-icon-sign">\n                                {{each earlyWarningArr}}\n                                    <li class="icon icon-flash-sign"></li>\n                                {{/each}}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="wrap-icon-weather">\n                        <i class="icon icon-flash"></i>\n                        <i class="icon icon-weather-shadow"></i>\n                    </div>\n                </li>\n                {{/if}}\n            </ul>\n        </li>\n        <li class="page-item antenatal-days-scene">\n            <p class="desc">如今我和宝贝已经一起度过了</p>\n            <p class="title">{{currentPregantDays}}天</p>\n            <div class="focus">\n                <i class="icon"></i>\n            </div>\n        </li>\n        \x3c!--<li class="page-item common-b-scene antenatal-b-scene">\n            <p class="title">\n                最幸福的时刻<br>\n                就是看到宝贝健康成长\n            </p>\n            <div class="focus clear">\n                <img src="./images/tmp/b_test.png" class="img-box">\n                <div class="wrap-info">                \n                    <div class="center-box icon"></div>\n                    <div class="tip-box icon">\n                        <div class="tip-content">\n                            <button>B超图像</button>\n                        </div>\n                    </div>\n                    <div class="bottom-box icon"> </div>\n                </div>\n            </div>\n            <p class="tip">注：全部照片可在1产检—Super妈咪服务中查看</p>\n        </li>--\x3e\n        <li class="page-item hospital-scene">\n            <p>我是{{year}}年</p>\n            <p class="title">第 {{rankingMm}} 个</p>\n            <p class="desc">选择一妇婴的准妈妈<br>得到了22位专业医生及护士的保驾护航</p>\n            <div class="hospital">\n                <div class="icon bg"></div>\n                <div class="icon flag-box">\n                    <i class="icon flag-left"></i>\n                    <i class="icon flag-right"></i>\n                    <i class="icon flag"></i>\n                </div>\n            </div>\n        </li>\n        <li class="page-item baby-weight-diff-secene">\n            <p class="desc">宝宝的体重超过了</p>\n            <p class="title">{{weightProportion}}</p>\n            <p>当日出生的宝宝</p>\n            <p>≈ {{watermelonNum}}个南汇8424小西瓜</p>\n            <div class="focus icon">\n                <i class="nums" data-weight={{child.weight}}></i><em class="unit">g</em>\n                <i class="icon sign"></i>\n            </div>\n        </li>\n        <li class="page-item baby-show-scene">\n            <p class="desc">漫长的妊娠期即将结束<br>爱与责任才刚刚开始</p>\n            <p class="title">{{child.dateBorn}}</p>\n            <p class="desc">我家{{child.sex}}诞生啦~生啦~啦~</p>\n            <div class="focus {{child.sex == \'小王子\' ? \'boy\' : \'girl\'}}">\n                <img src="{{child.babyPictures}}" />\n                <div class="icon bg"></div>\n                <em class="weight">{{child.weight}}g</em>\n            </div>\n            \n            <button class="share-btn icon"></button>\n            <p>*1产检全程提供数据支持</p>\n        </li>\n        \n    </ul>\n    <span class="icon arrow-down"></span> <\/script> <div class=share-container-shadow></div>'}});